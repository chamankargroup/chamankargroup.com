(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xi(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const xe={},Cs=[],Et=()=>{},Ea=()=>!1,nn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ki=t=>t.startsWith("onUpdate:"),Le=Object.assign,Si=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},kc=Object.prototype.hasOwnProperty,ve=(t,e)=>kc.call(t,e),J=Array.isArray,Rs=t=>xr(t)==="[object Map]",Ls=t=>xr(t)==="[object Set]",Yi=t=>xr(t)==="[object Date]",te=t=>typeof t=="function",Ce=t=>typeof t=="string",At=t=>typeof t=="symbol",we=t=>t!==null&&typeof t=="object",Ta=t=>(we(t)||te(t))&&te(t.then)&&te(t.catch),Aa=Object.prototype.toString,xr=t=>Aa.call(t),Sc=t=>xr(t).slice(8,-1),Ca=t=>xr(t)==="[object Object]",Ei=t=>Ce(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ks=xi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),on=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Ec=/-\w/g,lt=on(t=>t.replace(Ec,e=>e.slice(1).toUpperCase())),Tc=/\B([A-Z])/g,hs=on(t=>t.replace(Tc,"-$1").toLowerCase()),an=on(t=>t.charAt(0).toUpperCase()+t.slice(1)),Tn=on(t=>t?`on${an(t)}`:""),Jt=(t,e)=>!Object.is(t,e),Mr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ra=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Wr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ac=t=>{const e=Ce(t)?Number(t):NaN;return isNaN(e)?t:e};let Xi;const ln=()=>Xi||(Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ti(t){if(J(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=Ce(r)?Pc(r):Ti(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(Ce(t)||we(t))return t}const Cc=/;(?![^(]*\))/g,Rc=/:([^]+)/,Oc=/\/\*[^]*?\*\//g;function Pc(t){const e={};return t.replace(Oc,"").split(Cc).forEach(s=>{if(s){const r=s.split(Rc);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qe(t){let e="";if(Ce(t))e=t;else if(J(t))for(let s=0;s<t.length;s++){const r=Qe(t[s]);r&&(e+=r+" ")}else if(we(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const $c="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jc=xi($c);function Oa(t){return!!t||t===""}function Ic(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=kr(t[r],e[r]);return s}function kr(t,e){if(t===e)return!0;let s=Yi(t),r=Yi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=At(t),r=At(e),s||r)return t===e;if(s=J(t),r=J(e),s||r)return s&&r?Ic(t,e):!1;if(s=we(t),r=we(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!kr(t[o],e[o]))return!1}}return String(t)===String(e)}function Ai(t,e){return t.findIndex(s=>kr(s,e))}const Pa=t=>!!(t&&t.__v_isRef===!0),q=t=>Ce(t)?t:t==null?"":J(t)||we(t)&&(t.toString===Aa||!te(t.toString))?Pa(t)?q(t.value):JSON.stringify(t,$a,2):String(t),$a=(t,e)=>Pa(e)?$a(t,e.value):Rs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[An(r,i)+" =>"]=n,s),{})}:Ls(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>An(s))}:At(e)?An(e):we(e)&&!J(e)&&!Ca(e)?String(e):e,An=(t,e="")=>{var s;return At(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class Uc{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!e&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Xe;try{return Xe=this,e()}finally{Xe=s}}}on(){++this._on===1&&(this.prevScope=Xe,Xe=this)}off(){this._on>0&&--this._on===0&&(Xe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Nc(){return Xe}let Ee;const Cn=new WeakSet;class ja{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Cn.has(this)&&(Cn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ua(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qi(this),Na(this);const e=Ee,s=gt;Ee=this,gt=!0;try{return this.fn()}finally{La(this),Ee=e,gt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Oi(e);this.deps=this.depsTail=void 0,Qi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Cn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yn(this)&&this.run()}get dirty(){return Yn(this)}}let Ia=0,Gs,zs;function Ua(t,e=!1){if(t.flags|=8,e){t.next=zs,zs=t;return}t.next=Gs,Gs=t}function Ci(){Ia++}function Ri(){if(--Ia>0)return;if(zs){let e=zs;for(zs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Gs;){let e=Gs;for(Gs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Na(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function La(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Oi(r),Lc(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Yn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Da(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Da(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ir)||(t.globalVersion=ir,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Yn(t))))return;t.flags|=2;const e=t.dep,s=Ee,r=gt;Ee=t,gt=!0;try{Na(t);const n=t.fn(t._value);(e.version===0||Jt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Ee=s,gt=r,La(t),t.flags&=-3}}function Oi(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Oi(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Lc(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let gt=!0;const Ma=[];function Lt(){Ma.push(gt),gt=!1}function Dt(){const t=Ma.pop();gt=t===void 0?!0:t}function Qi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Ee;Ee=void 0;try{e()}finally{Ee=s}}}let ir=0;class Dc{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ee||!gt||Ee===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ee)s=this.activeLink=new Dc(Ee,this),Ee.deps?(s.prevDep=Ee.depsTail,Ee.depsTail.nextDep=s,Ee.depsTail=s):Ee.deps=Ee.depsTail=s,Ba(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Ee.depsTail,s.nextDep=void 0,Ee.depsTail.nextDep=s,Ee.depsTail=s,Ee.deps===s&&(Ee.deps=r)}return s}trigger(e){this.version++,ir++,this.notify(e)}notify(e){Ci();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ri()}}}function Ba(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ba(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Xn=new WeakMap,ds=Symbol(""),Qn=Symbol(""),or=Symbol("");function Ve(t,e,s){if(gt&&Ee){let r=Xn.get(t);r||Xn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Pi),n.map=r,n.key=s),n.track()}}function It(t,e,s,r,n,i){const o=Xn.get(t);if(!o){ir++;return}const a=l=>{l&&l.trigger()};if(Ci(),e==="clear")o.forEach(a);else{const l=J(t),u=l&&Ei(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===or||!At(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(or)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ds)),Rs(t)&&a(o.get(Qn)));break;case"delete":l||(a(o.get(ds)),Rs(t)&&a(o.get(Qn)));break;case"set":Rs(t)&&a(o.get(ds));break}}Ri()}function ps(t){const e=fe(t);return e===t?e:(Ve(e,"iterate",or),at(t)?e:e.map(Be))}function cn(t){return Ve(t=fe(t),"iterate",or),t}const Mc={__proto__:null,[Symbol.iterator](){return Rn(this,Symbol.iterator,Be)},concat(...t){return ps(this).concat(...t.map(e=>J(e)?ps(e):e))},entries(){return Rn(this,"entries",t=>(t[1]=Be(t[1]),t))},every(t,e){return Ct(this,"every",t,e,void 0,arguments)},filter(t,e){return Ct(this,"filter",t,e,s=>s.map(Be),arguments)},find(t,e){return Ct(this,"find",t,e,Be,arguments)},findIndex(t,e){return Ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ct(this,"findLast",t,e,Be,arguments)},findLastIndex(t,e){return Ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return On(this,"includes",t)},indexOf(...t){return On(this,"indexOf",t)},join(t){return ps(this).join(t)},lastIndexOf(...t){return On(this,"lastIndexOf",t)},map(t,e){return Ct(this,"map",t,e,void 0,arguments)},pop(){return Bs(this,"pop")},push(...t){return Bs(this,"push",t)},reduce(t,...e){return Zi(this,"reduce",t,e)},reduceRight(t,...e){return Zi(this,"reduceRight",t,e)},shift(){return Bs(this,"shift")},some(t,e){return Ct(this,"some",t,e,void 0,arguments)},splice(...t){return Bs(this,"splice",t)},toReversed(){return ps(this).toReversed()},toSorted(t){return ps(this).toSorted(t)},toSpliced(...t){return ps(this).toSpliced(...t)},unshift(...t){return Bs(this,"unshift",t)},values(){return Rn(this,"values",Be)}};function Rn(t,e,s){const r=cn(t),n=r[e]();return r!==t&&!at(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=s(i.value)),i}),n}const Bc=Array.prototype;function Ct(t,e,s,r,n,i){const o=cn(t),a=o!==t&&!at(t),l=o[e];if(l!==Bc[e]){const h=l.apply(t,i);return a?Be(h):h}let u=s;o!==t&&(a?u=function(h,f){return s.call(this,Be(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Zi(t,e,s,r){const n=cn(t);let i=s;return n!==t&&(at(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Be(a),l,t)}),n[e](i,...r)}function On(t,e,s){const r=fe(t);Ve(r,"iterate",or);const n=r[e](...s);return(n===-1||n===!1)&&Ii(s[0])?(s[0]=fe(s[0]),r[e](...s)):n}function Bs(t,e,s=[]){Lt(),Ci();const r=fe(t)[e].apply(t,s);return Ri(),Dt(),r}const Vc=xi("__proto__,__v_isRef,__isVue"),Va=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(At));function Fc(t){At(t)||(t=String(t));const e=fe(this);return Ve(e,"has",t),e.hasOwnProperty(t)}class Fa{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Qc:Ka:i?Wa:Ha).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=J(e);if(!n){let l;if(o&&(l=Mc[s]))return l;if(s==="hasOwnProperty")return Fc}const a=Reflect.get(e,s,qe(e)?e:r);if((At(s)?Va.has(s):Vc(s))||(n||Ve(e,"get",s),i))return a;if(qe(a)){const l=o&&Ei(s)?a:a.value;return n&&we(l)?ei(l):l}return we(a)?n?ei(a):un(a):a}}class qa extends Fa{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Yt(i);if(!at(r)&&!Yt(r)&&(i=fe(i),r=fe(r)),!J(e)&&qe(i)&&!qe(r))return l||(i.value=r),!0}const o=J(e)&&Ei(s)?Number(s)<e.length:ve(e,s),a=Reflect.set(e,s,r,qe(e)?e:n);return e===fe(n)&&(o?Jt(r,i)&&It(e,"set",s,r):It(e,"add",s,r)),a}deleteProperty(e,s){const r=ve(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&It(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!At(s)||!Va.has(s))&&Ve(e,"has",s),r}ownKeys(e){return Ve(e,"iterate",J(e)?"length":ds),Reflect.ownKeys(e)}}class qc extends Fa{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Hc=new qa,Wc=new qc,Kc=new qa(!0);const Zn=t=>t,Ar=t=>Reflect.getPrototypeOf(t);function Gc(t,e,s){return function(...r){const n=this.__v_raw,i=fe(n),o=Rs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Zn:e?Kr:Be;return!e&&Ve(i,"iterate",l?Qn:ds),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Cr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function zc(t,e){const s={get(n){const i=this.__v_raw,o=fe(i),a=fe(n);t||(Jt(n,a)&&Ve(o,"get",n),Ve(o,"get",a));const{has:l}=Ar(o),u=e?Zn:t?Kr:Be;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Ve(fe(n),"iterate",ds),n.size},has(n){const i=this.__v_raw,o=fe(i),a=fe(n);return t||(Jt(n,a)&&Ve(o,"has",n),Ve(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=fe(a),u=e?Zn:t?Kr:Be;return!t&&Ve(l,"iterate",ds),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return Le(s,t?{add:Cr("add"),set:Cr("set"),delete:Cr("delete"),clear:Cr("clear")}:{add(n){!e&&!at(n)&&!Yt(n)&&(n=fe(n));const i=fe(this);return Ar(i).has.call(i,n)||(i.add(n),It(i,"add",n,n)),this},set(n,i){!e&&!at(i)&&!Yt(i)&&(i=fe(i));const o=fe(this),{has:a,get:l}=Ar(o);let u=a.call(o,n);u||(n=fe(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Jt(i,c)&&It(o,"set",n,i):It(o,"add",n,i),this},delete(n){const i=fe(this),{has:o,get:a}=Ar(i);let l=o.call(i,n);l||(n=fe(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&It(i,"delete",n,void 0),u},clear(){const n=fe(this),i=n.size!==0,o=n.clear();return i&&It(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Gc(n,t,e)}),s}function $i(t,e){const s=zc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ve(s,n)&&n in r?s:r,n,i)}const Jc={get:$i(!1,!1)},Yc={get:$i(!1,!0)},Xc={get:$i(!0,!1)};const Ha=new WeakMap,Wa=new WeakMap,Ka=new WeakMap,Qc=new WeakMap;function Zc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eu(t){return t.__v_skip||!Object.isExtensible(t)?0:Zc(Sc(t))}function un(t){return Yt(t)?t:ji(t,!1,Hc,Jc,Ha)}function Ga(t){return ji(t,!1,Kc,Yc,Wa)}function ei(t){return ji(t,!0,Wc,Xc,Ka)}function ji(t,e,s,r,n){if(!we(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=eu(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Os(t){return Yt(t)?Os(t.__v_raw):!!(t&&t.__v_isReactive)}function Yt(t){return!!(t&&t.__v_isReadonly)}function at(t){return!!(t&&t.__v_isShallow)}function Ii(t){return t?!!t.__v_raw:!1}function fe(t){const e=t&&t.__v_raw;return e?fe(e):t}function tu(t){return!ve(t,"__v_skip")&&Object.isExtensible(t)&&Ra(t,"__v_skip",!0),t}const Be=t=>we(t)?un(t):t,Kr=t=>we(t)?ei(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function re(t){return za(t,!1)}function su(t){return za(t,!0)}function za(t,e){return qe(t)?t:new ru(t,e)}class ru{constructor(e,s){this.dep=new Pi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:fe(e),this._value=s?e:Be(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||at(e)||Yt(e);e=r?e:fe(e),Jt(e,s)&&(this._rawValue=e,this._value=r?e:Be(e),this.dep.trigger())}}function pt(t){return qe(t)?t.value:t}const nu={get:(t,e,s)=>e==="__v_raw"?t:pt(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return qe(n)&&!qe(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Ja(t){return Os(t)?t:new Proxy(t,nu)}class iu{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Pi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ee!==this)return Ua(this,!0),!0}get value(){const e=this.dep.track();return Da(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ou(t,e,s=!1){let r,n;return te(t)?r=t:(r=t.get,n=t.set),new iu(r,n,s)}const Rr={},Gr=new WeakMap;let is;function au(t,e=!1,s=is){if(s){let r=Gr.get(s);r||Gr.set(s,r=[]),r.push(t)}}function lu(t,e,s=xe){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=C=>n?C:at(C)||n===!1||n===0?Ut(C,1):Ut(C);let c,h,f,p,v=!1,y=!1;if(qe(t)?(h=()=>t.value,v=at(t)):Os(t)?(h=()=>u(t),v=!0):J(t)?(y=!0,v=t.some(C=>Os(C)||at(C)),h=()=>t.map(C=>{if(qe(C))return C.value;if(Os(C))return u(C);if(te(C))return l?l(C,2):C()})):te(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Lt();try{f()}finally{Dt()}}const C=is;is=c;try{return l?l(t,3,[p]):t(p)}finally{is=C}}:h=Et,e&&n){const C=h,H=n===!0?1/0:n;h=()=>Ut(C(),H)}const x=Nc(),k=()=>{c.stop(),x&&x.active&&Si(x.effects,c)};if(i&&e){const C=e;e=(...H)=>{C(...H),k()}}let S=y?new Array(t.length).fill(Rr):Rr;const _=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(e){const H=c.run();if(n||v||(y?H.some((F,I)=>Jt(F,S[I])):Jt(H,S))){f&&f();const F=is;is=c;try{const I=[H,S===Rr?void 0:y&&S[0]===Rr?[]:S,p];S=H,l?l(e,3,I):e(...I)}finally{is=F}}}else c.run()};return a&&a(_),c=new ja(h),c.scheduler=o?()=>o(_,!1):_,p=C=>au(C,!1,c),f=c.onStop=()=>{const C=Gr.get(c);if(C){if(l)l(C,4);else for(const H of C)H();Gr.delete(c)}},e?r?_(!0):S=c.run():o?o(_.bind(null,!0),!0):c.run(),k.pause=c.pause.bind(c),k.resume=c.resume.bind(c),k.stop=k,k}function Ut(t,e=1/0,s){if(e<=0||!we(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,qe(t))Ut(t.value,e,s);else if(J(t))for(let r=0;r<t.length;r++)Ut(t[r],e,s);else if(Ls(t)||Rs(t))t.forEach(r=>{Ut(r,e,s)});else if(Ca(t)){for(const r in t)Ut(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ut(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sr(t,e,s,r){try{return r?t(...r):t()}catch(n){dn(n,e,s)}}function mt(t,e,s,r){if(te(t)){const n=Sr(t,e,s,r);return n&&Ta(n)&&n.catch(i=>{dn(i,e,s)}),n}if(J(t)){const n=[];for(let i=0;i<t.length;i++)n.push(mt(t[i],e,s,r));return n}}function dn(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||xe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Lt(),Sr(i,null,10,[t,l,u]),Dt();return}}cu(t,s,n,r,o)}function cu(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ge=[];let kt=-1;const Ps=[];let qt=null,xs=0;const Ya=Promise.resolve();let zr=null;function Ui(t){const e=zr||Ya;return t?e.then(this?t.bind(this):t):e}function uu(t){let e=kt+1,s=Ge.length;for(;e<s;){const r=e+s>>>1,n=Ge[r],i=ar(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Ni(t){if(!(t.flags&1)){const e=ar(t),s=Ge[Ge.length-1];!s||!(t.flags&2)&&e>=ar(s)?Ge.push(t):Ge.splice(uu(e),0,t),t.flags|=1,Xa()}}function Xa(){zr||(zr=Ya.then(Za))}function du(t){J(t)?Ps.push(...t):qt&&t.id===-1?qt.splice(xs+1,0,t):t.flags&1||(Ps.push(t),t.flags|=1),Xa()}function eo(t,e,s=kt+1){for(;s<Ge.length;s++){const r=Ge[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ge.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Qa(t){if(Ps.length){const e=[...new Set(Ps)].sort((s,r)=>ar(s)-ar(r));if(Ps.length=0,qt){qt.push(...e);return}for(qt=e,xs=0;xs<qt.length;xs++){const s=qt[xs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}qt=null,xs=0}}const ar=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Za(t){try{for(kt=0;kt<Ge.length;kt++){const e=Ge[kt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Sr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;kt<Ge.length;kt++){const e=Ge[kt];e&&(e.flags&=-2)}kt=-1,Ge.length=0,Qa(),zr=null,(Ge.length||Ps.length)&&Za()}}let rt=null,el=null;function Jr(t){const e=rt;return rt=t,el=t&&t.type.__scopeId||null,e}function Ne(t,e=rt,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Qr(-1);const i=Jr(e);let o;try{o=t(...n)}finally{Jr(i),r._d&&Qr(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function le(t,e){if(rt===null)return t;const s=vn(rt),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=xe]=e[n];i&&(te(i)&&(i={mounted:i,updated:i}),i.deep&&Ut(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Zt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Lt(),mt(l,s,8,[t.el,a,t,e]),Dt())}}const tl=Symbol("_vte"),sl=t=>t.__isTeleport,Js=t=>t&&(t.disabled||t.disabled===""),to=t=>t&&(t.defer||t.defer===""),so=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ro=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ti=(t,e)=>{const s=t&&t.to;return Ce(s)?e?e(s):null:s},rl={name:"Teleport",__isTeleport:!0,process(t,e,s,r,n,i,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:v,createText:y,createComment:x}}=u,k=Js(e.props);let{shapeFlag:S,children:_,dynamicChildren:C}=e;if(t==null){const H=e.el=y(""),F=e.anchor=y("");p(H,s,r),p(F,s,r);const I=(B,K)=>{S&16&&c(_,B,K,n,i,o,a,l)},se=()=>{const B=e.target=ti(e.props,v),K=il(B,e,y,p);B&&(o!=="svg"&&so(B)?o="svg":o!=="mathml"&&ro(B)&&(o="mathml"),n&&n.isCE&&(n.ce._teleportTargets||(n.ce._teleportTargets=new Set)).add(B),k||(I(B,K),Br(e,!1)))};k&&(I(s,F),Br(e,!0)),to(e.props)?(e.el.__isMounted=!1,Ke(()=>{se(),delete e.el.__isMounted},i)):se()}else{if(to(e.props)&&t.el.__isMounted===!1){Ke(()=>{rl.process(t,e,s,r,n,i,o,a,l,u)},i);return}e.el=t.el,e.targetStart=t.targetStart;const H=e.anchor=t.anchor,F=e.target=t.target,I=e.targetAnchor=t.targetAnchor,se=Js(t.props),B=se?s:F,K=se?H:I;if(o==="svg"||so(F)?o="svg":(o==="mathml"||ro(F))&&(o="mathml"),C?(f(t.dynamicChildren,C,B,n,i,o,a),Bi(t,e,!0)):l||h(t,e,B,K,n,i,o,a,!1),k)se?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Or(e,s,H,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const he=e.target=ti(e.props,v);he&&Or(e,he,null,u,0)}else se&&Or(e,F,I,u,1);Br(e,k)}},remove(t,e,s,{um:r,o:{remove:n}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(n(u),n(c)),i&&n(l),o&16){const p=i||!Js(f);for(let v=0;v<a.length;v++){const y=a[v];r(y,e,s,p,!!y.dynamicChildren)}}},move:Or,hydrate:hu};function Or(t,e,s,{o:{insert:r},m:n},i=2){i===0&&r(t.targetAnchor,e,s);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=i===2;if(h&&r(o,e,s),(!h||Js(c))&&l&16)for(let f=0;f<u.length;f++)n(u[f],e,s,2);h&&r(a,e,s)}function hu(t,e,s,r,n,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){function f(y,x,k,S){x.anchor=h(o(y),x,a(y),s,r,n,i),x.targetStart=k,x.targetAnchor=S}const p=e.target=ti(e.props,l),v=Js(e.props);if(p){const y=p._lpa||p.firstChild;if(e.shapeFlag&16)if(v)f(t,e,y,y&&o(y));else{e.anchor=o(t);let x=y;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}x=o(x)}e.targetAnchor||il(p,e,c,u),h(y&&o(y),e,p,s,r,n,i)}Br(e,v)}else v&&e.shapeFlag&16&&f(t,e,t,o(t));return e.anchor&&o(e.anchor)}const nl=rl;function Br(t,e){const s=t.ctx;if(s&&s.ut){let r,n;for(e?(r=t.el,n=t.anchor):(r=t.targetStart,n=t.targetAnchor);r&&r!==n;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}function il(t,e,s,r){const n=e.targetStart=s(""),i=e.targetAnchor=s("");return n[tl]=i,t&&(r(n,t),r(i,t)),i}const jt=Symbol("_leaveCb"),Pr=Symbol("_enterCb");function fu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qt(()=>{t.isMounted=!0}),pl(()=>{t.isUnmounting=!0}),t}const ot=[Function,Array],ol={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot},al=t=>{const e=t.subTree;return e.component?al(e.component):e},pu={name:"BaseTransition",props:ol,setup(t,{slots:e}){const s=Nl(),r=fu();return()=>{const n=e.default&&ul(e.default(),!0);if(!n||!n.length)return;const i=ll(n),o=fe(t),{mode:a}=o;if(r.isLeaving)return Pn(i);const l=no(i);if(!l)return Pn(i);let u=si(l,o,r,s,h=>u=h);l.type!==ze&&lr(l,u);let c=s.subTree&&no(s.subTree);if(c&&c.type!==ze&&!as(c,l)&&al(s).type!==ze){let h=si(c,o,r,s);if(lr(c,h),a==="out-in"&&l.type!==ze)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,c=void 0},Pn(i);a==="in-out"&&l.type!==ze?h.delayLeave=(f,p,v)=>{const y=cl(r,c);y[String(c.key)]=c,f[jt]=()=>{p(),f[jt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function ll(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==ze){e=s;break}}return e}const gu=pu;function cl(t,e){const{leavingVNodes:s}=t;let r=s.get(e.type);return r||(r=Object.create(null),s.set(e.type,r)),r}function si(t,e,s,r,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:x,onAppear:k,onAfterAppear:S,onAppearCancelled:_}=e,C=String(t.key),H=cl(s,t),F=(B,K)=>{B&&mt(B,r,9,K)},I=(B,K)=>{const he=K[1];F(B,K),J(B)?B.every(V=>V.length<=1)&&he():B.length<=1&&he()},se={mode:o,persisted:a,beforeEnter(B){let K=l;if(!s.isMounted)if(i)K=x||l;else return;B[jt]&&B[jt](!0);const he=H[C];he&&as(t,he)&&he.el[jt]&&he.el[jt](),F(K,[B])},enter(B){let K=u,he=c,V=h;if(!s.isMounted)if(i)K=k||u,he=S||c,V=_||h;else return;let ue=!1;const $e=B[Pr]=He=>{ue||(ue=!0,He?F(V,[B]):F(he,[B]),se.delayedLeave&&se.delayedLeave(),B[Pr]=void 0)};K?I(K,[B,$e]):$e()},leave(B,K){const he=String(t.key);if(B[Pr]&&B[Pr](!0),s.isUnmounting)return K();F(f,[B]);let V=!1;const ue=B[jt]=$e=>{V||(V=!0,K(),$e?F(y,[B]):F(v,[B]),B[jt]=void 0,H[he]===t&&delete H[he])};H[he]=t,p?I(p,[B,ue]):ue()},clone(B){const K=si(B,e,s,r,n);return n&&n(K),K}};return se}function Pn(t){if(hn(t))return t=Xt(t),t.children=null,t}function no(t){if(!hn(t))return sl(t.type)&&t.children?ll(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&te(s.default))return s.default()}}function lr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,lr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ul(t,e=!1,s){let r=[],n=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===ce?(o.patchFlag&128&&n++,r=r.concat(ul(o.children,e,a))):(e||o.type!==ze)&&r.push(a!=null?Xt(o,{key:a}):o)}if(n>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function dl(t,e){return te(t)?Le({name:t.name},e,{setup:t}):t}function hl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Yr=new WeakMap;function Ys(t,e,s,r,n=!1){if(J(t)){t.forEach((v,y)=>Ys(v,e&&(J(e)?e[y]:e),s,r,n));return}if(Xs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ys(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?vn(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===xe?a.refs={}:a.refs,h=a.setupState,f=fe(h),p=h===xe?Ea:v=>ve(f,v);if(u!=null&&u!==l){if(io(e),Ce(u))c[u]=null,p(u)&&(h[u]=null);else if(qe(u)){u.value=null;const v=e;v.k&&(c[v.k]=null)}}if(te(l))Sr(l,a,12,[o,c]);else{const v=Ce(l),y=qe(l);if(v||y){const x=()=>{if(t.f){const k=v?p(l)?h[l]:c[l]:l.value;if(n)J(k)&&Si(k,i);else if(J(k))k.includes(i)||k.push(i);else if(v)c[l]=[i],p(l)&&(h[l]=c[l]);else{const S=[i];l.value=S,t.k&&(c[t.k]=S)}}else v?(c[l]=o,p(l)&&(h[l]=o)):y&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const k=()=>{x(),Yr.delete(t)};k.id=-1,Yr.set(t,k),Ke(k,s)}else io(t),x()}}}function io(t){const e=Yr.get(t);e&&(e.flags|=8,Yr.delete(t))}ln().requestIdleCallback;ln().cancelIdleCallback;const Xs=t=>!!t.type.__asyncLoader,hn=t=>t.type.__isKeepAlive;function mu(t,e){fl(t,"a",e)}function vu(t,e){fl(t,"da",e)}function fl(t,e,s=Fe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(fn(e,r,s),s){let n=s.parent;for(;n&&n.parent;)hn(n.parent.vnode)&&yu(r,e,s,n),n=n.parent}}function yu(t,e,s,r){const n=fn(e,t,r,!0);Li(()=>{Si(r[e],n)},s)}function fn(t,e,s=Fe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Lt();const a=Er(s),l=mt(e,s,t,o);return a(),Dt(),l});return r?n.unshift(i):n.push(i),i}}const Mt=t=>(e,s=Fe)=>{(!ur||t==="sp")&&fn(t,(...r)=>e(...r),s)},bu=Mt("bm"),Qt=Mt("m"),wu=Mt("bu"),_u=Mt("u"),pl=Mt("bum"),Li=Mt("um"),xu=Mt("sp"),ku=Mt("rtg"),Su=Mt("rtc");function Eu(t,e=Fe){fn("ec",t,e)}const gl="components";function fs(t,e){return vl(gl,t,!0,e)||t}const ml=Symbol.for("v-ndc");function Tu(t){return Ce(t)?vl(gl,t,!1)||t:t||ml}function vl(t,e,s=!0,r=!1){const n=rt||Fe;if(n){const i=n.type;{const a=fd(i,!1);if(a&&(a===e||a===lt(e)||a===an(lt(e))))return i}const o=oo(n[t]||i[t],e)||oo(n.appContext[t],e);return!o&&r?i:o}}function oo(t,e){return t&&(t[e]||t[lt(e)]||t[an(lt(e))])}function Te(t,e,s,r){let n;const i=s,o=J(t);if(o||Ce(t)){const a=o&&Os(t);let l=!1,u=!1;a&&(l=!at(t),u=Yt(t),t=cn(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?Kr(Be(t[c])):Be(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(we(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const ri=t=>t?Ll(t)?vn(t):ri(t.parent):null,Qs=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ri(t.parent),$root:t=>ri(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bl(t),$forceUpdate:t=>t.f||(t.f=()=>{Ni(t.update)}),$nextTick:t=>t.n||(t.n=Ui.bind(t.proxy)),$watch:t=>Gu.bind(t)}),$n=(t,e)=>t!==xe&&!t.__isScriptSetup&&ve(t,e),Au={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if($n(r,e))return o[e]=1,r[e];if(n!==xe&&ve(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&ve(u,e))return o[e]=3,i[e];if(s!==xe&&ve(s,e))return o[e]=4,s[e];ni&&(o[e]=0)}}const c=Qs[e];let h,f;if(c)return e==="$attrs"&&Ve(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==xe&&ve(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,ve(f,e))return f[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return $n(n,e)?(n[e]=s,!0):r!==xe&&ve(r,e)?(r[e]=s,!0):ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||t!==xe&&a[0]!=="$"&&ve(t,a)||$n(e,a)||(l=i[0])&&ve(l,a)||ve(r,a)||ve(Qs,a)||ve(n.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ve(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ao(t){return J(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let ni=!0;function Cu(t){const e=bl(t),s=t.proxy,r=t.ctx;ni=!1,e.beforeCreate&&lo(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:v,activated:y,deactivated:x,beforeDestroy:k,beforeUnmount:S,destroyed:_,unmounted:C,render:H,renderTracked:F,renderTriggered:I,errorCaptured:se,serverPrefetch:B,expose:K,inheritAttrs:he,components:V,directives:ue,filters:$e}=e;if(u&&Ru(u,r,null),o)for(const pe in o){const de=o[pe];te(de)&&(r[pe]=de.bind(s))}if(n){const pe=n.call(s,s);we(pe)&&(t.data=un(pe))}if(ni=!0,i)for(const pe in i){const de=i[pe],ct=te(de)?de.bind(s,s):te(de.get)?de.get.bind(s,s):Et,yt=!te(de)&&te(de.set)?de.set.bind(s):Et,ie=Ze({get:ct,set:yt});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>ie.value,set:w=>ie.value=w})}if(a)for(const pe in a)yl(a[pe],r,s,pe);if(l){const pe=te(l)?l.call(s):l;Reflect.ownKeys(pe).forEach(de=>{Vr(de,pe[de])})}c&&lo(c,t,"c");function Ae(pe,de){J(de)?de.forEach(ct=>pe(ct.bind(s))):de&&pe(de.bind(s))}if(Ae(bu,h),Ae(Qt,f),Ae(wu,p),Ae(_u,v),Ae(mu,y),Ae(vu,x),Ae(Eu,se),Ae(Su,F),Ae(ku,I),Ae(pl,S),Ae(Li,C),Ae(xu,B),J(K))if(K.length){const pe=t.exposed||(t.exposed={});K.forEach(de=>{Object.defineProperty(pe,de,{get:()=>s[de],set:ct=>s[de]=ct,enumerable:!0})})}else t.exposed||(t.exposed={});H&&t.render===Et&&(t.render=H),he!=null&&(t.inheritAttrs=he),V&&(t.components=V),ue&&(t.directives=ue),B&&hl(t)}function Ru(t,e,s=Et){J(t)&&(t=ii(t));for(const r in t){const n=t[r];let i;we(n)?"default"in n?i=Tt(n.from||r,n.default,!0):i=Tt(n.from||r):i=Tt(n),qe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function lo(t,e,s){mt(J(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function yl(t,e,s,r){let n=r.includes(".")?Pl(s,r):()=>s[r];if(Ce(t)){const i=e[t];te(i)&&Zs(n,i)}else if(te(t))Zs(n,t.bind(s));else if(we(t))if(J(t))t.forEach(i=>yl(i,e,s,r));else{const i=te(t.handler)?t.handler.bind(s):e[t.handler];te(i)&&Zs(n,i,t)}}function bl(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Xr(l,u,o,!0)),Xr(l,e,o)),we(e)&&i.set(e,l),l}function Xr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Xr(t,i,s,!0),n&&n.forEach(o=>Xr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Ou[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ou={data:co,props:uo,emits:uo,methods:Hs,computed:Hs,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Hs,directives:Hs,watch:$u,provide:co,inject:Pu};function co(t,e){return e?t?function(){return Le(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function Pu(t,e){return Hs(ii(t),ii(e))}function ii(t){if(J(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function We(t,e){return t?[...new Set([].concat(t,e))]:e}function Hs(t,e){return t?Le(Object.create(null),t,e):e}function uo(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:Le(Object.create(null),ao(t),ao(e??{})):e}function $u(t,e){if(!t)return e;if(!e)return t;const s=Le(Object.create(null),t);for(const r in e)s[r]=We(t[r],e[r]);return s}function wl(){return{app:null,config:{isNativeTag:Ea,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ju=0;function Iu(t,e){return function(r,n=null){te(r)||(r=Le({},r)),n!=null&&!we(n)&&(n=null);const i=wl(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:ju++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:gd,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&te(c.install)?(o.add(c),c.install(u,...h)):te(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||oe(r,n);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,vn(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(mt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=$s;$s=u;try{return c()}finally{$s=h}}};return u}}let $s=null;function Vr(t,e){if(Fe){let s=Fe.provides;const r=Fe.parent&&Fe.parent.provides;r===s&&(s=Fe.provides=Object.create(r)),s[t]=e}}function Tt(t,e,s=!1){const r=Nl();if(r||$s){let n=$s?$s._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&te(e)?e.call(r&&r.proxy):e}}const _l={},xl=()=>Object.create(_l),kl=t=>Object.getPrototypeOf(t)===_l;function Uu(t,e,s,r=!1){const n={},i=xl();t.propsDefaults=Object.create(null),Sl(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ga(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Nu(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=fe(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(pn(t.emitsOptions,f))continue;const p=e[f];if(l)if(ve(i,f))p!==i[f]&&(i[f]=p,u=!0);else{const v=lt(f);n[v]=oi(l,a,v,p,t,!1)}else p!==i[f]&&(i[f]=p,u=!0)}}}else{Sl(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!ve(e,h)&&((c=hs(h))===h||!ve(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=oi(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!ve(e,h))&&(delete i[h],u=!0)}u&&It(t.attrs,"set","")}function Sl(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ks(l))continue;const u=e[l];let c;n&&ve(n,c=lt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:pn(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=fe(s),u=a||xe;for(let c=0;c<i.length;c++){const h=i[c];s[h]=oi(n,l,h,u[h],t,!ve(u,h))}}return o}function oi(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ve(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Er(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===hs(s))&&(r=!0))}return r}const Lu=new WeakMap;function El(t,e,s=!1){const r=s?Lu:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!te(t)){const c=h=>{l=!0;const[f,p]=El(h,e,!0);Le(o,f),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return we(t)&&r.set(t,Cs),Cs;if(J(i))for(let c=0;c<i.length;c++){const h=lt(i[c]);ho(h)&&(o[h]=xe)}else if(i)for(const c in i){const h=lt(c);if(ho(h)){const f=i[c],p=o[h]=J(f)||te(f)?{type:f}:Le({},f),v=p.type;let y=!1,x=!0;if(J(v))for(let k=0;k<v.length;++k){const S=v[k],_=te(S)&&S.name;if(_==="Boolean"){y=!0;break}else _==="String"&&(x=!1)}else y=te(v)&&v.name==="Boolean";p[0]=y,p[1]=x,(y||ve(p,"default"))&&a.push(h)}}const u=[o,a];return we(t)&&r.set(t,u),u}function ho(t){return t[0]!=="$"&&!Ks(t)}const Di=t=>t==="_"||t==="_ctx"||t==="$stable",Mi=t=>J(t)?t.map(St):[St(t)],Du=(t,e,s)=>{if(e._n)return e;const r=Ne((...n)=>Mi(e(...n)),s);return r._c=!1,r},Tl=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Di(n))continue;const i=t[n];if(te(i))e[n]=Du(n,i,r);else if(i!=null){const o=Mi(i);e[n]=()=>o}}},Al=(t,e)=>{const s=Mi(e);t.slots.default=()=>s},Cl=(t,e,s)=>{for(const r in e)(s||!Di(r))&&(t[r]=e[r])},Mu=(t,e,s)=>{const r=t.slots=xl();if(t.vnode.shapeFlag&32){const n=e._;n?(Cl(r,e,s),s&&Ra(r,"_",n,!0)):Tl(e,r)}else e&&Al(t,e)},Bu=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=xe;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Cl(n,e,s):(i=!e.$stable,Tl(e,n)),o=e}else e&&(Al(t,e),o={default:1});if(i)for(const a in n)!Di(a)&&o[a]==null&&delete n[a]},Ke=td;function Vu(t){return Fu(t)}function Fu(t,e){const s=ln();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=Et,insertStaticContent:v}=t,y=(g,m,b,T=null,R=null,E=null,L=void 0,N=null,U=!!m.dynamicChildren)=>{if(g===m)return;g&&!as(g,m)&&(T=A(g),w(g,R,E,!0),g=null),m.patchFlag===-2&&(U=!1,m.dynamicChildren=null);const{type:j,ref:X,shapeFlag:M}=m;switch(j){case gn:x(g,m,b,T);break;case ze:k(g,m,b,T);break;case Fr:g==null&&S(m,b,T,L);break;case ce:V(g,m,b,T,R,E,L,N,U);break;default:M&1?H(g,m,b,T,R,E,L,N,U):M&6?ue(g,m,b,T,R,E,L,N,U):(M&64||M&128)&&j.process(g,m,b,T,R,E,L,N,U,z)}X!=null&&R?Ys(X,g&&g.ref,E,m||g,!m):X==null&&g&&g.ref!=null&&Ys(g.ref,null,E,g,!0)},x=(g,m,b,T)=>{if(g==null)r(m.el=a(m.children),b,T);else{const R=m.el=g.el;m.children!==g.children&&u(R,m.children)}},k=(g,m,b,T)=>{g==null?r(m.el=l(m.children||""),b,T):m.el=g.el},S=(g,m,b,T)=>{[g.el,g.anchor]=v(g.children,m,b,T,g.el,g.anchor)},_=({el:g,anchor:m},b,T)=>{let R;for(;g&&g!==m;)R=f(g),r(g,b,T),g=R;r(m,b,T)},C=({el:g,anchor:m})=>{let b;for(;g&&g!==m;)b=f(g),n(g),g=b;n(m)},H=(g,m,b,T,R,E,L,N,U)=>{m.type==="svg"?L="svg":m.type==="math"&&(L="mathml"),g==null?F(m,b,T,R,E,L,N,U):B(g,m,R,E,L,N,U)},F=(g,m,b,T,R,E,L,N)=>{let U,j;const{props:X,shapeFlag:M,transition:Y,dirs:ee}=g;if(U=g.el=o(g.type,E,X&&X.is,X),M&8?c(U,g.children):M&16&&se(g.children,U,null,T,R,jn(g,E),L,N),ee&&Zt(g,null,T,"created"),I(U,g,g.scopeId,L,T),X){for(const ke in X)ke!=="value"&&!Ks(ke)&&i(U,ke,null,X[ke],E,T);"value"in X&&i(U,"value",null,X.value,E),(j=X.onVnodeBeforeMount)&&xt(j,T,g)}ee&&Zt(g,null,T,"beforeMount");const ae=qu(R,Y);ae&&Y.beforeEnter(U),r(U,m,b),((j=X&&X.onVnodeMounted)||ae||ee)&&Ke(()=>{j&&xt(j,T,g),ae&&Y.enter(U),ee&&Zt(g,null,T,"mounted")},R)},I=(g,m,b,T,R)=>{if(b&&p(g,b),T)for(let E=0;E<T.length;E++)p(g,T[E]);if(R){let E=R.subTree;if(m===E||jl(E.type)&&(E.ssContent===m||E.ssFallback===m)){const L=R.vnode;I(g,L,L.scopeId,L.slotScopeIds,R.parent)}}},se=(g,m,b,T,R,E,L,N,U=0)=>{for(let j=U;j<g.length;j++){const X=g[j]=N?Ht(g[j]):St(g[j]);y(null,X,m,b,T,R,E,L,N)}},B=(g,m,b,T,R,E,L)=>{const N=m.el=g.el;let{patchFlag:U,dynamicChildren:j,dirs:X}=m;U|=g.patchFlag&16;const M=g.props||xe,Y=m.props||xe;let ee;if(b&&es(b,!1),(ee=Y.onVnodeBeforeUpdate)&&xt(ee,b,m,g),X&&Zt(m,g,b,"beforeUpdate"),b&&es(b,!0),(M.innerHTML&&Y.innerHTML==null||M.textContent&&Y.textContent==null)&&c(N,""),j?K(g.dynamicChildren,j,N,b,T,jn(m,R),E):L||de(g,m,N,null,b,T,jn(m,R),E,!1),U>0){if(U&16)he(N,M,Y,b,R);else if(U&2&&M.class!==Y.class&&i(N,"class",null,Y.class,R),U&4&&i(N,"style",M.style,Y.style,R),U&8){const ae=m.dynamicProps;for(let ke=0;ke<ae.length;ke++){const ye=ae[ke],Je=M[ye],Ye=Y[ye];(Ye!==Je||ye==="value")&&i(N,ye,Je,Ye,R,b)}}U&1&&g.children!==m.children&&c(N,m.children)}else!L&&j==null&&he(N,M,Y,b,R);((ee=Y.onVnodeUpdated)||X)&&Ke(()=>{ee&&xt(ee,b,m,g),X&&Zt(m,g,b,"updated")},T)},K=(g,m,b,T,R,E,L)=>{for(let N=0;N<m.length;N++){const U=g[N],j=m[N],X=U.el&&(U.type===ce||!as(U,j)||U.shapeFlag&198)?h(U.el):b;y(U,j,X,null,T,R,E,L,!0)}},he=(g,m,b,T,R)=>{if(m!==b){if(m!==xe)for(const E in m)!Ks(E)&&!(E in b)&&i(g,E,m[E],null,R,T);for(const E in b){if(Ks(E))continue;const L=b[E],N=m[E];L!==N&&E!=="value"&&i(g,E,N,L,R,T)}"value"in b&&i(g,"value",m.value,b.value,R)}},V=(g,m,b,T,R,E,L,N,U)=>{const j=m.el=g?g.el:a(""),X=m.anchor=g?g.anchor:a("");let{patchFlag:M,dynamicChildren:Y,slotScopeIds:ee}=m;ee&&(N=N?N.concat(ee):ee),g==null?(r(j,b,T),r(X,b,T),se(m.children||[],b,X,R,E,L,N,U)):M>0&&M&64&&Y&&g.dynamicChildren?(K(g.dynamicChildren,Y,b,R,E,L,N),(m.key!=null||R&&m===R.subTree)&&Bi(g,m,!0)):de(g,m,b,X,R,E,L,N,U)},ue=(g,m,b,T,R,E,L,N,U)=>{m.slotScopeIds=N,g==null?m.shapeFlag&512?R.ctx.activate(m,b,T,L,U):$e(m,b,T,R,E,L,U):He(g,m,U)},$e=(g,m,b,T,R,E,L)=>{const N=g.component=ld(g,T,R);if(hn(g)&&(N.ctx.renderer=z),cd(N,!1,L),N.asyncDep){if(R&&R.registerDep(N,Ae,L),!g.el){const U=N.subTree=oe(ze);k(null,U,m,b),g.placeholder=U.el}}else Ae(N,g,m,b,R,E,L)},He=(g,m,b)=>{const T=m.component=g.component;if(Zu(g,m,b))if(T.asyncDep&&!T.asyncResolved){pe(T,m,b);return}else T.next=m,T.update();else m.el=g.el,T.vnode=m},Ae=(g,m,b,T,R,E,L)=>{const N=()=>{if(g.isMounted){let{next:M,bu:Y,u:ee,parent:ae,vnode:ke}=g;{const wt=Rl(g);if(wt){M&&(M.el=ke.el,pe(g,M,L)),wt.asyncDep.then(()=>{g.isUnmounted||N()});return}}let ye=M,Je;es(g,!1),M?(M.el=ke.el,pe(g,M,L)):M=ke,Y&&Mr(Y),(Je=M.props&&M.props.onVnodeBeforeUpdate)&&xt(Je,ae,M,ke),es(g,!0);const Ye=po(g),bt=g.subTree;g.subTree=Ye,y(bt,Ye,h(bt.el),A(bt),g,R,E),M.el=Ye.el,ye===null&&ed(g,Ye.el),ee&&Ke(ee,R),(Je=M.props&&M.props.onVnodeUpdated)&&Ke(()=>xt(Je,ae,M,ke),R)}else{let M;const{el:Y,props:ee}=m,{bm:ae,m:ke,parent:ye,root:Je,type:Ye}=g,bt=Xs(m);es(g,!1),ae&&Mr(ae),!bt&&(M=ee&&ee.onVnodeBeforeMount)&&xt(M,ye,m),es(g,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(Ye);const wt=g.subTree=po(g);y(null,wt,b,T,g,R,E),m.el=wt.el}if(ke&&Ke(ke,R),!bt&&(M=ee&&ee.onVnodeMounted)){const wt=m;Ke(()=>xt(M,ye,wt),R)}(m.shapeFlag&256||ye&&Xs(ye.vnode)&&ye.vnode.shapeFlag&256)&&g.a&&Ke(g.a,R),g.isMounted=!0,m=b=T=null}};g.scope.on();const U=g.effect=new ja(N);g.scope.off();const j=g.update=U.run.bind(U),X=g.job=U.runIfDirty.bind(U);X.i=g,X.id=g.uid,U.scheduler=()=>Ni(X),es(g,!0),j()},pe=(g,m,b)=>{m.component=g;const T=g.vnode.props;g.vnode=m,g.next=null,Nu(g,m.props,T,b),Bu(g,m.children,b),Lt(),eo(g),Dt()},de=(g,m,b,T,R,E,L,N,U=!1)=>{const j=g&&g.children,X=g?g.shapeFlag:0,M=m.children,{patchFlag:Y,shapeFlag:ee}=m;if(Y>0){if(Y&128){yt(j,M,b,T,R,E,L,N,U);return}else if(Y&256){ct(j,M,b,T,R,E,L,N,U);return}}ee&8?(X&16&&ne(j,R,E),M!==j&&c(b,M)):X&16?ee&16?yt(j,M,b,T,R,E,L,N,U):ne(j,R,E,!0):(X&8&&c(b,""),ee&16&&se(M,b,T,R,E,L,N,U))},ct=(g,m,b,T,R,E,L,N,U)=>{g=g||Cs,m=m||Cs;const j=g.length,X=m.length,M=Math.min(j,X);let Y;for(Y=0;Y<M;Y++){const ee=m[Y]=U?Ht(m[Y]):St(m[Y]);y(g[Y],ee,b,null,R,E,L,N,U)}j>X?ne(g,R,E,!0,!1,M):se(m,b,T,R,E,L,N,U,M)},yt=(g,m,b,T,R,E,L,N,U)=>{let j=0;const X=m.length;let M=g.length-1,Y=X-1;for(;j<=M&&j<=Y;){const ee=g[j],ae=m[j]=U?Ht(m[j]):St(m[j]);if(as(ee,ae))y(ee,ae,b,null,R,E,L,N,U);else break;j++}for(;j<=M&&j<=Y;){const ee=g[M],ae=m[Y]=U?Ht(m[Y]):St(m[Y]);if(as(ee,ae))y(ee,ae,b,null,R,E,L,N,U);else break;M--,Y--}if(j>M){if(j<=Y){const ee=Y+1,ae=ee<X?m[ee].el:T;for(;j<=Y;)y(null,m[j]=U?Ht(m[j]):St(m[j]),b,ae,R,E,L,N,U),j++}}else if(j>Y)for(;j<=M;)w(g[j],R,E,!0),j++;else{const ee=j,ae=j,ke=new Map;for(j=ae;j<=Y;j++){const et=m[j]=U?Ht(m[j]):St(m[j]);et.key!=null&&ke.set(et.key,j)}let ye,Je=0;const Ye=Y-ae+1;let bt=!1,wt=0;const Ms=new Array(Ye);for(j=0;j<Ye;j++)Ms[j]=0;for(j=ee;j<=M;j++){const et=g[j];if(Je>=Ye){w(et,R,E,!0);continue}let _t;if(et.key!=null)_t=ke.get(et.key);else for(ye=ae;ye<=Y;ye++)if(Ms[ye-ae]===0&&as(et,m[ye])){_t=ye;break}_t===void 0?w(et,R,E,!0):(Ms[_t-ae]=j+1,_t>=wt?wt=_t:bt=!0,y(et,m[_t],b,null,R,E,L,N,U),Je++)}const Gi=bt?Hu(Ms):Cs;for(ye=Gi.length-1,j=Ye-1;j>=0;j--){const et=ae+j,_t=m[et],zi=m[et+1],Ji=et+1<X?zi.el||zi.placeholder:T;Ms[j]===0?y(null,_t,b,Ji,R,E,L,N,U):bt&&(ye<0||j!==Gi[ye]?ie(_t,b,Ji,2):ye--)}}},ie=(g,m,b,T,R=null)=>{const{el:E,type:L,transition:N,children:U,shapeFlag:j}=g;if(j&6){ie(g.component.subTree,m,b,T);return}if(j&128){g.suspense.move(m,b,T);return}if(j&64){L.move(g,m,b,z);return}if(L===ce){r(E,m,b);for(let M=0;M<U.length;M++)ie(U[M],m,b,T);r(g.anchor,m,b);return}if(L===Fr){_(g,m,b);return}if(T!==2&&j&1&&N)if(T===0)N.beforeEnter(E),r(E,m,b),Ke(()=>N.enter(E),R);else{const{leave:M,delayLeave:Y,afterLeave:ee}=N,ae=()=>{g.ctx.isUnmounted?n(E):r(E,m,b)},ke=()=>{E._isLeaving&&E[jt](!0),M(E,()=>{ae(),ee&&ee()})};Y?Y(E,ae,ke):ke()}else r(E,m,b)},w=(g,m,b,T=!1,R=!1)=>{const{type:E,props:L,ref:N,children:U,dynamicChildren:j,shapeFlag:X,patchFlag:M,dirs:Y,cacheIndex:ee}=g;if(M===-2&&(R=!1),N!=null&&(Lt(),Ys(N,null,b,g,!0),Dt()),ee!=null&&(m.renderCache[ee]=void 0),X&256){m.ctx.deactivate(g);return}const ae=X&1&&Y,ke=!Xs(g);let ye;if(ke&&(ye=L&&L.onVnodeBeforeUnmount)&&xt(ye,m,g),X&6)be(g.component,b,T);else{if(X&128){g.suspense.unmount(b,T);return}ae&&Zt(g,null,m,"beforeUnmount"),X&64?g.type.remove(g,m,b,z,T):j&&!j.hasOnce&&(E!==ce||M>0&&M&64)?ne(j,m,b,!1,!0):(E===ce&&M&384||!R&&X&16)&&ne(U,m,b),T&&ut(g)}(ke&&(ye=L&&L.onVnodeUnmounted)||ae)&&Ke(()=>{ye&&xt(ye,m,g),ae&&Zt(g,null,m,"unmounted")},b)},ut=g=>{const{type:m,el:b,anchor:T,transition:R}=g;if(m===ce){O(b,T);return}if(m===Fr){C(g);return}const E=()=>{n(b),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(g.shapeFlag&1&&R&&!R.persisted){const{leave:L,delayLeave:N}=R,U=()=>L(b,E);N?N(g.el,E,U):U()}else E()},O=(g,m)=>{let b;for(;g!==m;)b=f(g),n(g),g=b;n(m)},be=(g,m,b)=>{const{bum:T,scope:R,job:E,subTree:L,um:N,m:U,a:j}=g;fo(U),fo(j),T&&Mr(T),R.stop(),E&&(E.flags|=8,w(L,g,m,b)),N&&Ke(N,m),Ke(()=>{g.isUnmounted=!0},m)},ne=(g,m,b,T=!1,R=!1,E=0)=>{for(let L=E;L<g.length;L++)w(g[L],m,b,T,R)},A=g=>{if(g.shapeFlag&6)return A(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=f(g.anchor||g.el),b=m&&m[tl];return b?f(b):m};let W=!1;const D=(g,m,b)=>{g==null?m._vnode&&w(m._vnode,null,null,!0):y(m._vnode||null,g,m,null,null,null,b),m._vnode=g,W||(W=!0,eo(),Qa(),W=!1)},z={p:y,um:w,m:ie,r:ut,mt:$e,mc:se,pc:de,pbc:K,n:A,o:t};return{render:D,hydrate:void 0,createApp:Iu(D)}}function jn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function es({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bi(t,e,s=!1){const r=t.children,n=e.children;if(J(r)&&J(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ht(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Bi(o,a)),a.type===gn&&a.patchFlag!==-1&&(a.el=o.el),a.type===ze&&!a.el&&(a.el=o.el)}}function Hu(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Rl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Rl(e)}function fo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Wu=Symbol.for("v-scx"),Ku=()=>Tt(Wu);function Zs(t,e,s){return Ol(t,e,s)}function Ol(t,e,s=xe){const{immediate:r,deep:n,flush:i,once:o}=s,a=Le({},s),l=e&&r||!e&&i!=="post";let u;if(ur){if(i==="sync"){const p=Ku();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Et,p.resume=Et,p.pause=Et,p}}const c=Fe;a.call=(p,v,y)=>mt(p,c,v,y);let h=!1;i==="post"?a.scheduler=p=>{Ke(p,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,v)=>{v?p():Ni(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=lu(t,e,a);return ur&&(u?u.push(f):l&&f()),f}function Gu(t,e,s){const r=this.proxy,n=Ce(t)?t.includes(".")?Pl(r,t):()=>r[t]:t.bind(r,r);let i;te(e)?i=e:(i=e.handler,s=e);const o=Er(this),a=Ol(n,i.bind(r),s);return o(),a}function Pl(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const zu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${lt(e)}Modifiers`]||t[`${hs(e)}Modifiers`];function Ju(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||xe;let n=s;const i=e.startsWith("update:"),o=i&&zu(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>Ce(c)?c.trim():c)),o.number&&(n=s.map(Wr)));let a,l=r[a=Tn(e)]||r[a=Tn(lt(e))];!l&&i&&(l=r[a=Tn(hs(e))]),l&&mt(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mt(u,t,6,n)}}const Yu=new WeakMap;function $l(t,e,s=!1){const r=s?Yu:e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!te(t)){const l=u=>{const c=$l(u,e,!0);c&&(a=!0,Le(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(we(t)&&r.set(t,null),null):(J(i)?i.forEach(l=>o[l]=null):Le(o,i),we(t)&&r.set(t,o),o)}function pn(t,e){return!t||!nn(e)?!1:(e=e.slice(2).replace(/Once$/,""),ve(t,e[0].toLowerCase()+e.slice(1))||ve(t,hs(e))||ve(t,e))}function po(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:v,inheritAttrs:y}=t,x=Jr(t);let k,S;try{if(s.shapeFlag&4){const C=n||r,H=C;k=St(u.call(H,C,c,h,p,f,v)),S=a}else{const C=e;k=St(C.length>1?C(h,{attrs:a,slots:o,emit:l}):C(h,null)),S=e.props?a:Xu(a)}}catch(C){er.length=0,dn(C,t,1),k=oe(ze)}let _=k;if(S&&y!==!1){const C=Object.keys(S),{shapeFlag:H}=_;C.length&&H&7&&(i&&C.some(ki)&&(S=Qu(S,i)),_=Xt(_,S,!1,!0))}return s.dirs&&(_=Xt(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&lr(_,s.transition),k=_,Jr(x),k}const Xu=t=>{let e;for(const s in t)(s==="class"||s==="style"||nn(s))&&((e||(e={}))[s]=t[s]);return e},Qu=(t,e)=>{const s={};for(const r in t)(!ki(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Zu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?go(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!pn(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?go(r,o,u):!0:!!o;return!1}function go(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!pn(s,i))return!0}return!1}function ed({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const jl=t=>t.__isSuspense;function td(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):du(t)}const ce=Symbol.for("v-fgt"),gn=Symbol.for("v-txt"),ze=Symbol.for("v-cmt"),Fr=Symbol.for("v-stc"),er=[];let nt=null;function P(t=!1){er.push(nt=t?null:[])}function sd(){er.pop(),nt=er[er.length-1]||null}let cr=1;function Qr(t,e=!1){cr+=t,t<0&&nt&&e&&(nt.hasOnce=!0)}function Il(t){return t.dynamicChildren=cr>0?nt||Cs:null,sd(),cr>0&&nt&&nt.push(t),t}function $(t,e,s,r,n,i){return Il(d(t,e,s,r,n,i,!0))}function mn(t,e,s,r,n){return Il(oe(t,e,s,r,n,!0))}function Zr(t){return t?t.__v_isVNode===!0:!1}function as(t,e){return t.type===e.type&&t.key===e.key}const Ul=({key:t})=>t??null,qr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ce(t)||qe(t)||te(t)?{i:rt,r:t,k:e,f:!!s}:t:null);function d(t,e=null,s=null,r=0,n=null,i=t===ce?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ul(e),ref:e&&qr(e),scopeId:el,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:rt};return a?(Vi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Ce(s)?8:16),cr>0&&!o&&nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&nt.push(l),l}const oe=rd;function rd(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===ml)&&(t=ze),Zr(t)){const a=Xt(t,e,!0);return s&&Vi(a,s),cr>0&&!i&&nt&&(a.shapeFlag&6?nt[nt.indexOf(t)]=a:nt.push(a)),a.patchFlag=-2,a}if(pd(t)&&(t=t.__vccOpts),e){e=nd(e);let{class:a,style:l}=e;a&&!Ce(a)&&(e.class=Qe(a)),we(l)&&(Ii(l)&&!J(l)&&(l=Le({},l)),e.style=Ti(l))}const o=Ce(t)?1:jl(t)?128:sl(t)?64:we(t)?4:te(t)?2:0;return d(t,e,s,r,n,o,i,!0)}function nd(t){return t?Ii(t)||kl(t)?Le({},t):t:null}function Xt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?id(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ul(u),ref:e&&e.ref?s&&i?J(i)?i.concat(qr(e)):[i,qr(e)]:qr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ce?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xt(t.ssContent),ssFallback:t.ssFallback&&Xt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&lr(c,l.clone(c)),c}function Oe(t=" ",e=0){return oe(gn,null,t,e)}function it(t,e){const s=oe(Fr,null,t);return s.staticCount=e,s}function Pe(t="",e=!1){return e?(P(),mn(ze,null,t)):oe(ze,null,t)}function St(t){return t==null||typeof t=="boolean"?oe(ze):J(t)?oe(ce,null,t.slice()):Zr(t)?Ht(t):oe(gn,null,String(t))}function Ht(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xt(t)}function Vi(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(J(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Vi(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!kl(e)?e._ctx=rt:n===3&&rt&&(rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:rt},s=32):(e=String(e),r&64?(s=16,e=[Oe(e)]):s=8);t.children=e,t.shapeFlag|=s}function id(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Qe([e.class,r.class]));else if(n==="style")e.style=Ti([e.style,r.style]);else if(nn(n)){const i=e[n],o=r[n];o&&i!==o&&!(J(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function xt(t,e,s,r=null){mt(t,e,7,[s,r])}const od=wl();let ad=0;function ld(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||od,i={uid:ad++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:El(r,n),emitsOptions:$l(r,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:r.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ju.bind(null,i),t.ce&&t.ce(i),i}let Fe=null;const Nl=()=>Fe||rt;let en,ai;{const t=ln(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};en=e("__VUE_INSTANCE_SETTERS__",s=>Fe=s),ai=e("__VUE_SSR_SETTERS__",s=>ur=s)}const Er=t=>{const e=Fe;return en(t),t.scope.on(),()=>{t.scope.off(),en(e)}},mo=()=>{Fe&&Fe.scope.off(),en(null)};function Ll(t){return t.vnode.shapeFlag&4}let ur=!1;function cd(t,e=!1,s=!1){e&&ai(e);const{props:r,children:n}=t.vnode,i=Ll(t);Uu(t,r,i,e),Mu(t,n,s||e);const o=i?ud(t,e):void 0;return e&&ai(!1),o}function ud(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Au);const{setup:r}=s;if(r){Lt();const n=t.setupContext=r.length>1?hd(t):null,i=Er(t),o=Sr(r,t,0,[t.props,n]),a=Ta(o);if(Dt(),i(),(a||t.sp)&&!Xs(t)&&hl(t),a){if(o.then(mo,mo),e)return o.then(l=>{vo(t,l)}).catch(l=>{dn(l,t,0)});t.asyncDep=o}else vo(t,o)}else Dl(t)}function vo(t,e,s){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:we(e)&&(t.setupState=Ja(e)),Dl(t)}function Dl(t,e,s){const r=t.type;t.render||(t.render=r.render||Et);{const n=Er(t);Lt();try{Cu(t)}finally{Dt(),n()}}}const dd={get(t,e){return Ve(t,"get",""),t[e]}};function hd(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,dd),slots:t.slots,emit:t.emit,expose:e}}function vn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ja(tu(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Qs)return Qs[s](t)},has(e,s){return s in e||s in Qs}})):t.proxy}function fd(t,e=!0){return te(t)?t.displayName||t.name:t.name||e&&t.__name}function pd(t){return te(t)&&"__vccOpts"in t}const Ze=(t,e)=>ou(t,e,ur);function Fi(t,e,s){try{Qr(-1);const r=arguments.length;return r===2?we(e)&&!J(e)?Zr(e)?oe(t,null,[e]):oe(t,e):oe(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Zr(s)&&(s=[s]),oe(t,e,s))}finally{Qr(1)}}const gd="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let li;const yo=typeof window<"u"&&window.trustedTypes;if(yo)try{li=yo.createPolicy("vue",{createHTML:t=>t})}catch{}const Ml=li?t=>li.createHTML(t):t=>t,md="http://www.w3.org/2000/svg",vd="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,bo=Pt&&Pt.createElement("template"),yd={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Pt.createElementNS(md,t):e==="mathml"?Pt.createElementNS(vd,t):s?Pt.createElement(t,{is:s}):Pt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Pt.createTextNode(t),createComment:t=>Pt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{bo.innerHTML=Ml(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=bo.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Vt="transition",Vs="animation",dr=Symbol("_vtc"),Bl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bd=Le({},ol,Bl),wd=t=>(t.displayName="Transition",t.props=bd,t),Vl=wd((t,{slots:e})=>Fi(gu,_d(t),e)),ts=(t,e=[])=>{J(t)?t.forEach(s=>s(...e)):t&&t(...e)},wo=t=>t?J(t)?t.some(e=>e.length>1):t.length>1:!1;function _d(t){const e={};for(const V in t)V in Bl||(e[V]=t[V]);if(t.css===!1)return e;const{name:s="v",type:r,duration:n,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,v=xd(n),y=v&&v[0],x=v&&v[1],{onBeforeEnter:k,onEnter:S,onEnterCancelled:_,onLeave:C,onLeaveCancelled:H,onBeforeAppear:F=k,onAppear:I=S,onAppearCancelled:se=_}=e,B=(V,ue,$e,He)=>{V._enterCancelled=He,ss(V,ue?c:a),ss(V,ue?u:o),$e&&$e()},K=(V,ue)=>{V._isLeaving=!1,ss(V,h),ss(V,p),ss(V,f),ue&&ue()},he=V=>(ue,$e)=>{const He=V?I:S,Ae=()=>B(ue,V,$e);ts(He,[ue,Ae]),_o(()=>{ss(ue,V?l:i),Rt(ue,V?c:a),wo(He)||xo(ue,r,y,Ae)})};return Le(e,{onBeforeEnter(V){ts(k,[V]),Rt(V,i),Rt(V,o)},onBeforeAppear(V){ts(F,[V]),Rt(V,l),Rt(V,u)},onEnter:he(!1),onAppear:he(!0),onLeave(V,ue){V._isLeaving=!0;const $e=()=>K(V,ue);Rt(V,h),V._enterCancelled?(Rt(V,f),Eo(V)):(Eo(V),Rt(V,f)),_o(()=>{V._isLeaving&&(ss(V,h),Rt(V,p),wo(C)||xo(V,r,x,$e))}),ts(C,[V,$e])},onEnterCancelled(V){B(V,!1,void 0,!0),ts(_,[V])},onAppearCancelled(V){B(V,!0,void 0,!0),ts(se,[V])},onLeaveCancelled(V){K(V),ts(H,[V])}})}function xd(t){if(t==null)return null;if(we(t))return[In(t.enter),In(t.leave)];{const e=In(t);return[e,e]}}function In(t){return Ac(t)}function Rt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[dr]||(t[dr]=new Set)).add(e)}function ss(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[dr];s&&(s.delete(e),s.size||(t[dr]=void 0))}function _o(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let kd=0;function xo(t,e,s,r){const n=t._endId=++kd,i=()=>{n===t._endId&&r()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=Sd(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),i()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function Sd(t,e){const s=window.getComputedStyle(t),r=v=>(s[v]||"").split(", "),n=r(`${Vt}Delay`),i=r(`${Vt}Duration`),o=ko(n,i),a=r(`${Vs}Delay`),l=r(`${Vs}Duration`),u=ko(a,l);let c=null,h=0,f=0;e===Vt?o>0&&(c=Vt,h=o,f=i.length):e===Vs?u>0&&(c=Vs,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Vt:Vs:null,f=c?c===Vt?i.length:l.length:0);const p=c===Vt&&/\b(?:transform|all)(?:,|$)/.test(r(`${Vt}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function ko(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,r)=>So(s)+So(t[r])))}function So(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Eo(t){return(t?t.ownerDocument:document).body.offsetHeight}function Ed(t,e,s){const r=t[dr];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const To=Symbol("_vod"),Td=Symbol("_vsh"),Ad=Symbol(""),Cd=/(?:^|;)\s*display\s*:/;function Rd(t,e,s){const r=t.style,n=Ce(s);let i=!1;if(s&&!n){if(e)if(Ce(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Hr(r,a,"")}else for(const o in e)s[o]==null&&Hr(r,o,"");for(const o in s)o==="display"&&(i=!0),Hr(r,o,s[o])}else if(n){if(e!==s){const o=r[Ad];o&&(s+=";"+o),r.cssText=s,i=Cd.test(s)}}else e&&t.removeAttribute("style");To in t&&(t[To]=i?r.display:"",t[Td]&&(r.display="none"))}const Ao=/\s*!important$/;function Hr(t,e,s){if(J(s))s.forEach(r=>Hr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Od(t,e);Ao.test(s)?t.setProperty(hs(r),s.replace(Ao,""),"important"):t[r]=s}}const Co=["Webkit","Moz","ms"],Un={};function Od(t,e){const s=Un[e];if(s)return s;let r=lt(e);if(r!=="filter"&&r in t)return Un[e]=r;r=an(r);for(let n=0;n<Co.length;n++){const i=Co[n]+r;if(i in t)return Un[e]=i}return e}const Ro="http://www.w3.org/1999/xlink";function Oo(t,e,s,r,n,i=jc(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ro,e.slice(6,e.length)):t.setAttributeNS(Ro,e,s):s==null||i&&!Oa(s)?t.removeAttribute(e):t.setAttribute(e,i?"":At(s)?String(s):s)}function Po(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ml(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Oa(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Gt(t,e,s,r){t.addEventListener(e,s,r)}function Pd(t,e,s,r){t.removeEventListener(e,s,r)}const $o=Symbol("_vei");function $d(t,e,s,r,n=null){const i=t[$o]||(t[$o]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=jd(e);if(r){const u=i[e]=Nd(r,n);Gt(t,a,u,l)}else o&&(Pd(t,a,o,l),i[e]=void 0)}}const jo=/(?:Once|Passive|Capture)$/;function jd(t){let e;if(jo.test(t)){e={};let r;for(;r=t.match(jo);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hs(t.slice(2)),e]}let Nn=0;const Id=Promise.resolve(),Ud=()=>Nn||(Id.then(()=>Nn=0),Nn=Date.now());function Nd(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;mt(Ld(r,s.value),e,5,[r])};return s.value=t,s.attached=Ud(),s}function Ld(t,e){if(J(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Io=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Dd=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Ed(t,r,o):e==="style"?Rd(t,s,r):nn(e)?ki(e)||$d(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Md(t,e,r,o))?(Po(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Oo(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ce(r))?Po(t,lt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Oo(t,e,r,o))};function Md(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Io(e)&&te(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Io(e)&&Ce(s)?!1:e in t}const Is=t=>{const e=t.props["onUpdate:modelValue"]||!1;return J(e)?s=>Mr(e,s):e};function Bd(t){t.target.composing=!0}function Uo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Nt=Symbol("_assign"),ge={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Nt]=Is(n);const i=r||n.props&&n.props.type==="number";Gt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Wr(a)),t[Nt](a)}),s&&Gt(t,"change",()=>{t.value=t.value.trim()}),e||(Gt(t,"compositionstart",Bd),Gt(t,"compositionend",Uo),Gt(t,"change",Uo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Nt]=Is(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Wr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Vd={deep:!0,created(t,e,s){t[Nt]=Is(s),Gt(t,"change",()=>{const r=t._modelValue,n=hr(t),i=t.checked,o=t[Nt];if(J(r)){const a=Ai(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ls(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Fl(t,i))})},mounted:No,beforeUpdate(t,e,s){t[Nt]=Is(s),No(t,e,s)}};function No(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(J(e))n=Ai(e,r.props.value)>-1;else if(Ls(e))n=e.has(r.props.value);else{if(e===s)return;n=kr(e,Fl(t,!0))}t.checked!==n&&(t.checked=n)}const Ln={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Ls(e);Gt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Wr(hr(o)):hr(o));t[Nt](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Ui(()=>{t._assigning=!1})}),t[Nt]=Is(r)},mounted(t,{value:e}){Lo(t,e)},beforeUpdate(t,e,s){t[Nt]=Is(s)},updated(t,{value:e}){t._assigning||Lo(t,e)}};function Lo(t,e){const s=t.multiple,r=J(e);if(!(s&&!r&&!Ls(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=hr(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Ai(e,a)>-1}else o.selected=e.has(a);else if(kr(hr(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function hr(t){return"_value"in t?t._value:t.value}function Fl(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Fd=["ctrl","shift","alt","meta"],qd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Fd.some(s=>t[`${s}Key`]&&!e.includes(s))},fr=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=qd[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Hd=Le({patchProp:Dd},yd);let Do;function Wd(){return Do||(Do=Vu(Hd))}const Kd=(...t)=>{const e=Wd().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=zd(r);if(!n)return;const i=e._component;!te(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Gd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Gd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zd(t){return Ce(t)?document.querySelector(t):t}const Jd={class:"max-w-7xl mx-auto px-6 lg:px-8 flex justify-between items-center"},Yd={class:"hidden md:flex items-center gap-10"},Xd={class:"h-full flex flex-col pt-28 px-8 pb-12"},Qd={class:"flex-1"},Zd={__name:"Navbar",setup(t){const e=re(!1),s=re(!1),r=[{name:"Projects",path:"/projects"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"}],n=[{name:"Home",path:"/"},{name:"Projects",path:"/projects"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"}],i=()=>{e.value=!e.value,document.body.style.overflow=e.value?"hidden":""},o=()=>{e.value=!1,document.body.style.overflow=""},a=()=>{s.value=window.scrollY>50},l=()=>{window.innerWidth>768&&o()};return Qt(()=>{window.addEventListener("scroll",a),window.addEventListener("resize",l)}),Li(()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",l)}),(u,c)=>{const h=fs("router-link");return P(),$("div",null,[d("nav",{class:Qe(["fixed top-0 left-0 right-0 z-50 transition-all duration-300",s.value?"bg-sand-light/95 backdrop-blur-lg py-4":"bg-transparent py-7"])},[d("div",Jd,[oe(h,{to:"/",class:"font-display text-2xl md:text-3xl font-medium text-text-dark"},{default:Ne(()=>[...c[0]||(c[0]=[Oe(" Chamankar Group ",-1)])]),_:1}),d("ul",Yd,[(P(),$(ce,null,Te(r,f=>d("li",{key:f.path},[oe(h,{to:f.path,class:"text-sm font-normal text-text-medium hover:text-clay transition-colors","active-class":"!text-clay"},{default:Ne(()=>[Oe(q(f.name),1)]),_:2},1032,["to"])])),64))]),oe(h,{to:"/contact",class:"hidden md:inline-block px-7 py-3 bg-earth text-white text-sm font-medium rounded-full hover:bg-clay transition-all"},{default:Ne(()=>[...c[1]||(c[1]=[Oe(" Get in Touch ",-1)])]),_:1}),d("button",{onClick:i,class:"md:hidden flex flex-col justify-center items-center w-10 h-10 z-[1001]","aria-label":"Toggle menu"},[d("span",{class:Qe(["block w-6 h-0.5 bg-text-dark rounded transition-all duration-300",e.value?"rotate-45 translate-y-[5px]":""])},null,2),d("span",{class:Qe(["block w-6 h-0.5 bg-text-dark rounded my-1 transition-all duration-300",e.value?"opacity-0":""])},null,2),d("span",{class:Qe(["block w-6 h-0.5 bg-text-dark rounded transition-all duration-300",e.value?"-rotate-45 -translate-y-[5px]":""])},null,2)])])],2),d("div",{class:Qe(["fixed inset-0 bg-sand-light z-[999] transition-all duration-400 md:hidden",e.value?"opacity-100 visible":"opacity-0 invisible pointer-events-none"])},[d("div",Xd,[d("ul",Qd,[(P(),$(ce,null,Te(n,f=>d("li",{key:f.path,class:"border-b border-black/5"},[oe(h,{to:f.path,onClick:o,class:"block font-display text-3xl text-text-dark py-4 hover:text-clay hover:pl-3 transition-all"},{default:Ne(()=>[Oe(q(f.name),1)]),_:2},1032,["to"])])),64))]),oe(h,{to:"/contact",onClick:o,class:"inline-block text-center px-10 py-4 bg-earth text-white text-base font-medium rounded-full hover:bg-clay transition-all mt-8"},{default:Ne(()=>[...c[2]||(c[2]=[Oe(" Get in Touch ",-1)])]),_:1}),c[3]||(c[3]=it('<div class="mt-auto pt-8"><p class="text-sm text-text-light mb-4">Follow us</p><div class="flex gap-4"><a href="#" class="w-11 h-11 bg-sand rounded-full flex items-center justify-center text-text-medium hover:bg-clay hover:text-white transition-all"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5"></rect><circle cx="12" cy="12" r="4"></circle><circle cx="18" cy="6" r="1.5" fill="currentColor"></circle></svg></a><a href="#" class="w-11 h-11 bg-sand rounded-full flex items-center justify-center text-text-medium hover:bg-clay hover:text-white transition-all"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="#" class="w-11 h-11 bg-sand rounded-full flex items-center justify-center text-text-medium hover:bg-clay hover:text-white transition-all"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></div></div>',1))])],2)])}}},yn=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},eh={},th={class:"bg-text-dark text-white py-16 lg:py-20"},sh={class:"max-w-7xl mx-auto px-6 lg:px-8"},rh={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16"},nh={class:"space-y-3"},ih={class:"pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4"},oh={class:"text-white/40 text-sm"};function ah(t,e){const s=fs("router-link");return P(),$("footer",th,[d("div",sh,[d("div",rh,[e[4]||(e[4]=d("div",{class:"lg:col-span-1"},[d("h3",{class:"font-display text-3xl mb-5"},"Chamankar Group"),d("p",{class:"text-white/60 text-sm leading-relaxed"}," Creating harmonious architecture that flows with life. Award-winning design studio based in Mumbai. ")],-1)),d("div",null,[e[3]||(e[3]=d("h4",{class:"text-xs font-semibold tracking-widest uppercase text-clay mb-6"},"Navigate",-1)),d("ul",nh,[d("li",null,[oe(s,{to:"/projects",class:"text-white/60 hover:text-white text-sm transition-colors"},{default:Ne(()=>[...e[0]||(e[0]=[Oe(" Projects ",-1)])]),_:1})]),d("li",null,[oe(s,{to:"/about",class:"text-white/60 hover:text-white text-sm transition-colors"},{default:Ne(()=>[...e[1]||(e[1]=[Oe(" About ",-1)])]),_:1})]),d("li",null,[oe(s,{to:"/contact",class:"text-white/60 hover:text-white text-sm transition-colors"},{default:Ne(()=>[...e[2]||(e[2]=[Oe(" Contact ",-1)])]),_:1})])])]),e[5]||(e[5]=it('<div><h4 class="text-xs font-semibold tracking-widest uppercase text-clay mb-6">Services</h4><ul class="space-y-3"><li><a href="#" class="text-white/60 hover:text-white text-sm transition-colors"> Residential </a></li><li><a href="#" class="text-white/60 hover:text-white text-sm transition-colors"> Commercial </a></li><li><a href="#" class="text-white/60 hover:text-white text-sm transition-colors"> Government </a></li></ul></div><div><h4 class="text-xs font-semibold tracking-widest uppercase text-clay mb-6">Contact</h4><ul class="space-y-3"><li><a href="mailto:info@chamankar.com" class="text-white/60 hover:text-white text-sm transition-colors"> info@chamankar.com </a></li><li><a href="tel:+912212345678" class="text-white/60 hover:text-white text-sm transition-colors"> +91 22 1234 5678 </a></li><li><span class="text-white/60 text-sm"> Mumbai, India </span></li></ul></div>',2))]),d("div",ih,[d("span",oh,"  "+q(new Date().getFullYear())+" Chamankar Group ",1),e[6]||(e[6]=d("div",{class:"flex gap-6"},[d("a",{href:"#",class:"text-white/40 hover:text-white text-sm transition-colors"},"Privacy"),d("a",{href:"#",class:"text-white/40 hover:text-white text-sm transition-colors"},"Terms")],-1))])])])}const lh=yn(eh,[["render",ah]]),ch={id:"app"},uh={__name:"App",setup(t){return(e,s)=>{const r=fs("router-view");return P(),$("div",ch,[oe(Zd),oe(r,null,{default:Ne(({Component:n})=>[oe(Vl,{name:"page",mode:"out-in"},{default:Ne(()=>[(P(),mn(Tu(n)))]),_:2},1024)]),_:1}),oe(lh)])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function ql(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function dh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ql(t.default)}const me=Object.assign;function Dn(t,e){const s={};for(const r in e){const n=e[r];s[r]=vt(n)?n.map(t):t(n)}return s}const tr=()=>{},vt=Array.isArray,Hl=/#/g,hh=/&/g,fh=/\//g,ph=/=/g,gh=/\?/g,Wl=/\+/g,mh=/%5B/g,vh=/%5D/g,Kl=/%5E/g,yh=/%60/g,Gl=/%7B/g,bh=/%7C/g,zl=/%7D/g,wh=/%20/g;function qi(t){return encodeURI(""+t).replace(bh,"|").replace(mh,"[").replace(vh,"]")}function _h(t){return qi(t).replace(Gl,"{").replace(zl,"}").replace(Kl,"^")}function ci(t){return qi(t).replace(Wl,"%2B").replace(wh,"+").replace(Hl,"%23").replace(hh,"%26").replace(yh,"`").replace(Gl,"{").replace(zl,"}").replace(Kl,"^")}function xh(t){return ci(t).replace(ph,"%3D")}function kh(t){return qi(t).replace(Hl,"%23").replace(gh,"%3F")}function Sh(t){return t==null?"":kh(t).replace(fh,"%2F")}function pr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Eh=/\/$/,Th=t=>t.replace(Eh,"");function Mn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Oh(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:pr(o)}}function Ah(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Mo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ch(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Us(e.matched[r],s.matched[n])&&Jl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Us(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Jl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Rh(t[s],e[s]))return!1;return!0}function Rh(t,e){return vt(t)?Bo(t,e):vt(e)?Bo(e,t):t===e}function Bo(t,e){return vt(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Oh(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Ft={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gr;(function(t){t.pop="pop",t.push="push"})(gr||(gr={}));var sr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(sr||(sr={}));function Ph(t){if(!t)if(ks){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Th(t)}const $h=/^[^#]+#/;function jh(t,e){return t.replace($h,"#")+e}function Ih(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const bn=()=>({left:window.scrollX,top:window.scrollY});function Uh(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Ih(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vo(t,e){return(history.state?history.state.position-e:-1)+t}const ui=new Map;function Nh(t,e){ui.set(t,e)}function Lh(t){const e=ui.get(t);return ui.delete(t),e}let Dh=()=>location.protocol+"//"+location.host;function Yl(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Mo(l,"")}return Mo(s,t)+r+n}function Mh(t,e,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const p=Yl(t,location),v=s.value,y=e.value;let x=0;if(f){if(s.value=p,e.value=f,o&&o===v){o=null;return}x=y?f.position-y.position:0}else r(p);n.forEach(k=>{k(s.value,v,{delta:x,type:gr.pop,direction:x?x>0?sr.forward:sr.back:sr.unknown})})};function l(){o=s.value}function u(f){n.push(f);const p=()=>{const v=n.indexOf(f);v>-1&&n.splice(v,1)};return i.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(me({},f.state,{scroll:bn()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Fo(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?bn():null}}function Bh(t){const{history:e,location:s}=window,r={value:Yl(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Dh()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(p){console.error(p),s[c?"replace":"assign"](f)}}function o(l,u){const c=me({},e.state,Fo(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=me({},n.value,e.state,{forward:l,scroll:bn()});i(c.current,c,!0);const h=me({},Fo(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Vh(t){t=Ph(t);const e=Bh(t),s=Mh(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=me({location:"",base:t,go:r,createHref:jh.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Fh(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Vh(t)}function qh(t){return typeof t=="string"||t&&typeof t=="object"}function Xl(t){return typeof t=="string"||typeof t=="symbol"}const Ql=Symbol("");var qo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qo||(qo={}));function Ns(t,e){return me(new Error,{type:t,[Ql]:!0},e)}function Ot(t,e){return t instanceof Error&&Ql in t&&(e==null||!!(t.type&e))}const Ho="[^/]+?",Hh={sensitive:!1,strict:!1,start:!0,end:!0},Wh=/[.+*?^${}()[\]/\\]/g;function Kh(t,e){const s=me({},Hh,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(Wh,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:y,optional:x,regexp:k}=f;i.push({name:v,repeatable:y,optional:x});const S=k||Ho;if(S!==Ho){p+=10;try{new RegExp(`(${S})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${v}" (${S}): `+C.message)}}let _=y?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(_=x&&u.length<2?`(?:/${_})`:"/"+_),x&&(_+="?"),n+=_,p+=20,x&&(p+=-8),y&&(p+=-20),S===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",v=i[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:v,repeatable:y,optional:x}=p,k=v in u?u[v]:"";if(vt(k)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const S=vt(k)?k.join("/"):k;if(!S)if(x)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);c+=S}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Gh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Zl(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Gh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Wo(r))return 1;if(Wo(n))return-1}return n.length-r.length}function Wo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const zh={type:0,value:""},Jh=/[a-zA-Z0-9_]/;function Yh(t){if(!t)return[[]];if(t==="/")return[[zh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:Jh.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function Xh(t,e,s){const r=Kh(Yh(t.path),s),n=me(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Qh(t,e){const s=[],r=new Map;e=Jo({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,f,p){const v=!p,y=Go(h);y.aliasOf=p&&p.record;const x=Jo(e,h),k=[y];if("alias"in h){const C=typeof h.alias=="string"?[h.alias]:h.alias;for(const H of C)k.push(Go(me({},y,{components:p?p.record.components:y.components,path:H,aliasOf:p?p.record:y})))}let S,_;for(const C of k){const{path:H}=C;if(f&&H[0]!=="/"){const F=f.record.path,I=F[F.length-1]==="/"?"":"/";C.path=f.record.path+(H&&I+H)}if(S=Xh(C,f,x),p?p.alias.push(S):(_=_||S,_!==S&&_.alias.push(S),v&&h.name&&!zo(S)&&o(h.name)),ec(S)&&l(S),y.children){const F=y.children;for(let I=0;I<F.length;I++)i(F[I],S,p&&p.children[I])}p=p||S}return _?()=>{o(_)}:tr}function o(h){if(Xl(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=tf(h,s);s.splice(f,0,h),h.record.name&&!zo(h)&&r.set(h.record.name,h)}function u(h,f){let p,v={},y,x;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Ns(1,{location:h});x=p.record.name,v=me(Ko(f.params,p.keys.filter(_=>!_.optional).concat(p.parent?p.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),h.params&&Ko(h.params,p.keys.map(_=>_.name))),y=p.stringify(v)}else if(h.path!=null)y=h.path,p=s.find(_=>_.re.test(y)),p&&(v=p.parse(y),x=p.record.name);else{if(p=f.name?r.get(f.name):s.find(_=>_.re.test(f.path)),!p)throw Ns(1,{location:h,currentLocation:f});x=p.record.name,v=me({},f.params,h.params),y=p.stringify(v)}const k=[];let S=p;for(;S;)k.unshift(S.record),S=S.parent;return{name:x,path:y,params:v,matched:k,meta:ef(k)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Ko(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Go(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Zh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Zh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function zo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ef(t){return t.reduce((e,s)=>me(e,s.meta),{})}function Jo(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function tf(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;Zl(t,e[i])<0?r=i:s=i+1}const n=sf(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function sf(t){let e=t;for(;e=e.parent;)if(ec(e)&&Zl(t,e)===0)return e}function ec({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function rf(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Wl," "),o=i.indexOf("="),a=pr(o<0?i:i.slice(0,o)),l=o<0?null:pr(i.slice(o+1));if(a in e){let u=e[a];vt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Yo(t){let e="";for(let s in t){const r=t[s];if(s=xh(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(vt(r)?r.map(i=>i&&ci(i)):[r&&ci(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function nf(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=vt(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const of=Symbol(""),Xo=Symbol(""),wn=Symbol(""),tc=Symbol(""),di=Symbol("");function Fs(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Wt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Ns(4,{from:s,to:e})):f instanceof Error?l(f):qh(f)?l(Ns(2,{from:e,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Bn(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ql(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Wt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=dh(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Wt(p,s,r,o,a,n)()}))}}return i}function Qo(t){const e=Tt(wn),s=Tt(tc),r=Ze(()=>{const l=pt(t.to);return e.resolve(l)}),n=Ze(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(Us.bind(null,c));if(f>-1)return f;const p=Zo(l[u-2]);return u>1&&Zo(c)===p&&h[h.length-1].path!==p?h.findIndex(Us.bind(null,l[u-2])):f}),i=Ze(()=>n.value>-1&&df(s.params,r.value.params)),o=Ze(()=>n.value>-1&&n.value===s.matched.length-1&&Jl(s.params,r.value.params));function a(l={}){if(uf(l)){const u=e[pt(t.replace)?"replace":"push"](pt(t.to)).catch(tr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function af(t){return t.length===1?t[0]:t}const lf=dl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Qo,setup(t,{slots:e}){const s=un(Qo(t)),{options:r}=Tt(wn),n=Ze(()=>({[ea(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[ea(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&af(e.default(s));return t.custom?i:Fi("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),cf=lf;function uf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function df(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!vt(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Zo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ea=(t,e,s)=>t??e??s,hf=dl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=Tt(di),n=Ze(()=>t.route||r.value),i=Tt(Xo,0),o=Ze(()=>{let u=pt(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Ze(()=>n.value.matched[o.value]);Vr(Xo,Ze(()=>o.value+1)),Vr(of,a),Vr(di,n);const l=re();return Zs(()=>[l.value,a.value,t.name],([u,c,h],[f,p,v])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Us(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return ta(s.default,{Component:f,route:u});const p=h.props[c],v=p?p===!0?u.params:typeof p=="function"?p(u):p:null,x=Fi(f,me({},v,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return ta(s.default,{Component:x,route:u})||x}}});function ta(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const ff=hf;function pf(t){const e=Qh(t.routes,t),s=t.parseQuery||rf,r=t.stringifyQuery||Yo,n=t.history,i=Fs(),o=Fs(),a=Fs(),l=su(Ft);let u=Ft;ks&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Dn.bind(null,A=>""+A),h=Dn.bind(null,Sh),f=Dn.bind(null,pr);function p(A,W){let D,z;return Xl(A)?(D=e.getRecordMatcher(A),z=W):z=A,e.addRoute(z,D)}function v(A){const W=e.getRecordMatcher(A);W&&e.removeRoute(W)}function y(){return e.getRoutes().map(A=>A.record)}function x(A){return!!e.getRecordMatcher(A)}function k(A,W){if(W=me({},W||l.value),typeof A=="string"){const b=Mn(s,A,W.path),T=e.resolve({path:b.path},W),R=n.createHref(b.fullPath);return me(b,T,{params:f(T.params),hash:pr(b.hash),redirectedFrom:void 0,href:R})}let D;if(A.path!=null)D=me({},A,{path:Mn(s,A.path,W.path).path});else{const b=me({},A.params);for(const T in b)b[T]==null&&delete b[T];D=me({},A,{params:h(b)}),W.params=h(W.params)}const z=e.resolve(D,W),_e=A.hash||"";z.params=c(f(z.params));const g=Ah(r,me({},A,{hash:_h(_e),path:z.path})),m=n.createHref(g);return me({fullPath:g,hash:_e,query:r===Yo?nf(A.query):A.query||{}},z,{redirectedFrom:void 0,href:m})}function S(A){return typeof A=="string"?Mn(s,A,l.value.path):me({},A)}function _(A,W){if(u!==A)return Ns(8,{from:W,to:A})}function C(A){return I(A)}function H(A){return C(me(S(A),{replace:!0}))}function F(A){const W=A.matched[A.matched.length-1];if(W&&W.redirect){const{redirect:D}=W;let z=typeof D=="function"?D(A):D;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=S(z):{path:z},z.params={}),me({query:A.query,hash:A.hash,params:z.path!=null?{}:A.params},z)}}function I(A,W){const D=u=k(A),z=l.value,_e=A.state,g=A.force,m=A.replace===!0,b=F(D);if(b)return I(me(S(b),{state:typeof b=="object"?me({},_e,b.state):_e,force:g,replace:m}),W||D);const T=D;T.redirectedFrom=W;let R;return!g&&Ch(r,z,D)&&(R=Ns(16,{to:T,from:z}),ie(z,z,!0,!1)),(R?Promise.resolve(R):K(T,z)).catch(E=>Ot(E)?Ot(E,2)?E:yt(E):de(E,T,z)).then(E=>{if(E){if(Ot(E,2))return I(me({replace:m},S(E.to),{state:typeof E.to=="object"?me({},_e,E.to.state):_e,force:g}),W||T)}else E=V(T,z,!0,m,_e);return he(T,z,E),E})}function se(A,W){const D=_(A,W);return D?Promise.reject(D):Promise.resolve()}function B(A){const W=O.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(A):A()}function K(A,W){let D;const[z,_e,g]=gf(A,W);D=Bn(z.reverse(),"beforeRouteLeave",A,W);for(const b of z)b.leaveGuards.forEach(T=>{D.push(Wt(T,A,W))});const m=se.bind(null,A,W);return D.push(m),ne(D).then(()=>{D=[];for(const b of i.list())D.push(Wt(b,A,W));return D.push(m),ne(D)}).then(()=>{D=Bn(_e,"beforeRouteUpdate",A,W);for(const b of _e)b.updateGuards.forEach(T=>{D.push(Wt(T,A,W))});return D.push(m),ne(D)}).then(()=>{D=[];for(const b of g)if(b.beforeEnter)if(vt(b.beforeEnter))for(const T of b.beforeEnter)D.push(Wt(T,A,W));else D.push(Wt(b.beforeEnter,A,W));return D.push(m),ne(D)}).then(()=>(A.matched.forEach(b=>b.enterCallbacks={}),D=Bn(g,"beforeRouteEnter",A,W,B),D.push(m),ne(D))).then(()=>{D=[];for(const b of o.list())D.push(Wt(b,A,W));return D.push(m),ne(D)}).catch(b=>Ot(b,8)?b:Promise.reject(b))}function he(A,W,D){a.list().forEach(z=>B(()=>z(A,W,D)))}function V(A,W,D,z,_e){const g=_(A,W);if(g)return g;const m=W===Ft,b=ks?history.state:{};D&&(z||m?n.replace(A.fullPath,me({scroll:m&&b&&b.scroll},_e)):n.push(A.fullPath,_e)),l.value=A,ie(A,W,D,m),yt()}let ue;function $e(){ue||(ue=n.listen((A,W,D)=>{if(!be.listening)return;const z=k(A),_e=F(z);if(_e){I(me(_e,{replace:!0,force:!0}),z).catch(tr);return}u=z;const g=l.value;ks&&Nh(Vo(g.fullPath,D.delta),bn()),K(z,g).catch(m=>Ot(m,12)?m:Ot(m,2)?(I(me(S(m.to),{force:!0}),z).then(b=>{Ot(b,20)&&!D.delta&&D.type===gr.pop&&n.go(-1,!1)}).catch(tr),Promise.reject()):(D.delta&&n.go(-D.delta,!1),de(m,z,g))).then(m=>{m=m||V(z,g,!1),m&&(D.delta&&!Ot(m,8)?n.go(-D.delta,!1):D.type===gr.pop&&Ot(m,20)&&n.go(-1,!1)),he(z,g,m)}).catch(tr)}))}let He=Fs(),Ae=Fs(),pe;function de(A,W,D){yt(A);const z=Ae.list();return z.length?z.forEach(_e=>_e(A,W,D)):console.error(A),Promise.reject(A)}function ct(){return pe&&l.value!==Ft?Promise.resolve():new Promise((A,W)=>{He.add([A,W])})}function yt(A){return pe||(pe=!A,$e(),He.list().forEach(([W,D])=>A?D(A):W()),He.reset()),A}function ie(A,W,D,z){const{scrollBehavior:_e}=t;if(!ks||!_e)return Promise.resolve();const g=!D&&Lh(Vo(A.fullPath,0))||(z||!D)&&history.state&&history.state.scroll||null;return Ui().then(()=>_e(A,W,g)).then(m=>m&&Uh(m)).catch(m=>de(m,A,W))}const w=A=>n.go(A);let ut;const O=new Set,be={currentRoute:l,listening:!0,addRoute:p,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:y,resolve:k,options:t,push:C,replace:H,go:w,back:()=>w(-1),forward:()=>w(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ae.add,isReady:ct,install(A){const W=this;A.component("RouterLink",cf),A.component("RouterView",ff),A.config.globalProperties.$router=W,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>pt(l)}),ks&&!ut&&l.value===Ft&&(ut=!0,C(n.location).catch(_e=>{}));const D={};for(const _e in Ft)Object.defineProperty(D,_e,{get:()=>l.value[_e],enumerable:!0});A.provide(wn,W),A.provide(tc,Ga(D)),A.provide(di,l);const z=A.unmount;O.add(A),A.unmount=function(){O.delete(A),O.size<1&&(u=Ft,ue&&ue(),ue=null,l.value=Ft,ut=!1,pe=!1),z()}}};function ne(A){return A.reduce((W,D)=>W.then(()=>B(D)),Promise.resolve())}return be}function gf(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Us(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Us(u,l))||n.push(l))}return[s,r,n]}function sc(){return Tt(wn)}function _n(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function mf(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const vf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Hi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class yf extends Hi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sa extends Hi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ra extends Hi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hi||(hi={}));class bf{constructor(e,{headers:s={},customFetch:r,region:n=hi.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=vf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mf(this,arguments,void 0,function*(s,r={}){var n;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${s}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let x=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const k=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:x}).catch(H=>{throw new yf(H)}),S=k.headers.get("x-relay-error");if(S&&S==="true")throw new sa(k);if(!k.ok)throw new ra(k);let _=((n=k.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield k.json():_==="application/octet-stream"||_==="application/pdf"?C=yield k.blob():_==="text/event-stream"?C=k:_==="multipart/form-data"?C=yield k.formData():C=yield k.text(),{data:C,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof ra||a instanceof sa?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var wf=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},_f=class{constructor(t){var e,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,f;if(s.method!=="HEAD"){var p;const k=await i.text();k===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((p=s.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=k:a=JSON.parse(k))}const y=(h=s.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&x&&x.length>1&&(l=parseInt(x[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&y===""?(u=204,c="No Content"):o={message:y}}if(o&&s.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&s.shouldThrowOnError)throw new wf(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,h,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,y&&(a+=` (${y})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}returns(){return this}overrideTypes(){return this}},xf=class extends _f{select(t){let e=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:r=!1,wal:n=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,s?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const na=new RegExp("[,()]");var Ss=class extends xf{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&na.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&na.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:r}={}){let n="";r==="plain"?n="pl":r==="phrase"?n="ph":r==="websearch"&&(n="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${n}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},kf=class{constructor(t,{headers:e={},schema:s,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:s=!1,count:r}=e??{},n=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Ss({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:s=!0}={}){var r;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),s||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Ss({method:n,url:i,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:r,defaultToNull:n=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",c.join(","))}}return new Ss({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var s;const r="PATCH",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Ss({method:r,url:n,headers:i,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var e;const s="DELETE",{url:r,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new Ss({method:s,url:r,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Sf=class rc{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kf(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(c)),h=r&&Object.values(s).some(c);h?(a="POST",u=s):r||n?(a=r?"HEAD":"GET",Object.entries(s).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{l.searchParams.append(p,v)})):(a="POST",u=s);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Ss({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Ef{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tf="2.93.3",Af=`realtime-js/${Tf}`,Cf="1.0.0",nc="2.0.0",ia=nc,fi=1e4,Rf=1e3,Of=100;var Kt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kt||(Kt={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ft||(ft={}));var pi;(function(t){t.websocket="websocket"})(pi||(pi={}));var ls;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ls||(ls={}));class Pf{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const n=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var s,r;const n=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,s,r){var n,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,a.length),v.setUint8(y++,o.length),v.setUint8(y++,u.length),v.setUint8(y++,h.length),v.setUint8(y++,s),Array.from(l,k=>v.setUint8(y++,k.charCodeAt(0))),Array.from(a,k=>v.setUint8(y++,k.charCodeAt(0))),Array.from(o,k=>v.setUint8(y++,k.charCodeAt(0))),Array.from(u,k=>v.setUint8(y++,k.charCodeAt(0))),Array.from(h,k=>v.setUint8(y++,k.charCodeAt(0)));var x=new Uint8Array(p.byteLength+r.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(r),p.byteLength),x.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[n,i,o,a,l]=r;return s({join_ref:n,ref:i,topic:o,event:a,payload:l})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),n=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,n)}}_decodeUserBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+n));l=l+n;const c=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class ic{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const oa=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=$f(o,t,e,n),i),{}):{}},$f=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?oc(i,o):gi(o)},oc=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Nf(e,s)}switch(t){case Se.bool:return jf(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return If(e);case Se.json:case Se.jsonb:return Uf(e);case Se.timestamp:return Lf(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return gi(e);default:return gi(e)}},gi=t=>t,jf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},If=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Uf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Nf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>oc(e,a))}return t},Lf=t=>typeof t=="string"?t.replace(" ","T"):t,ac=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vn{constructor(e,s,r={},n=fi){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var aa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(aa||(aa={}));class rr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=rr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=rr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),v=c.filter(x=>p.indexOf(x.presence_ref)<0),y=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[u]=v),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var la;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(la||(la={}));var nr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nr||(nr={}));var $t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class As{constructor(e,s={config:{}},r){var n,i;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Vn(this,ft.join,this.params,this.timeout),this.rejoinTimer=new ic(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new rr(this),this.broadcastEndpointURL=ac(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[nr.PRESENCE]&&this.bindings[nr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e($t.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e($t.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e($t.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,k=[];for(let S=0;S<x;S++){const _=y[S],{filter:{event:C,schema:H,table:F,filter:I}}=_,se=p&&p[S];if(se&&se.event===C&&As.isFilterValueEqual(se.schema,H)&&As.isFilterValueEqual(se.table,F)&&As.isFilterValueEqual(se.filter,I))k.push(Object.assign(Object.assign({},_),{id:se.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e($t.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ue.errored,e==null||e($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Ue.joined&&e===nr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var n;if(s==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Vn(this,ft.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Vn(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Of){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ft;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var v,y,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,y,x,k,S,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,H=(v=p.filter)===null||v===void 0?void 0:v.event;return C&&((y=s.ids)===null||y===void 0?void 0:y.includes(C))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(S=(k=p==null?void 0:p.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return C==="*"||C===((_=s==null?void 0:s.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:x,commit_timestamp:k,type:S,errors:_}=v;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:k,eventType:S,new:{},old:{},errors:_}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&As.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ft.close,{},e)}_onError(e){this._on(ft.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=oa(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=oa(e.columns,e.old_record)),s}}const Fn=()=>{},$r={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Df=[1e3,2e3,5e3,1e4],Mf=1e4,Bf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vf{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fi,this.transport=null,this.heartbeatIntervalMs=$r.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fn,this.ref=0,this.reconnectTimer=null,this.vsn=ia,this.logger=Fn,this.conn=null,this.sendBuffer=[],this.serializer=new Pf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${pi.websocket}`,this.httpEndpoint=ac(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ef.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kt.connecting:return ls.Connecting;case Kt.open:return ls.Open;case Kt.closing:return ls.Closing;default:return ls.Closed}}isConnected(){return this.connectionState()===ls.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new As(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Rf,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},$r.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Kt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kt.open||this.conn.readyState===Kt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ft.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Bf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,r=!1;if(e)s=e,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:Af};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ft.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ic(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$r.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,u,c,h,f,p;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:fi,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:$r.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Fn,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ia,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Df[v-1]||Mf,this.vsn){case Cf:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,y)=>y(JSON.parse(v));break;case nc:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var mr=class extends Error{constructor(t,e){var s;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((s=e.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ff(t,e,s){const r=new URL(e,t);if(s)for(const[n,i]of Object.entries(s))i!==void 0&&r.searchParams.set(n,i);return r.toString()}async function qf(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Hf(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:n,body:i,headers:o}){const a=Ff(t.baseUrl,r,n),l=await qf(t.auth),u=await e(a,{method:s,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&c?JSON.parse(c):c;if(!u.ok){const p=h?f:void 0,v=p==null?void 0:p.error;throw new mr((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function jr(t){return t.join("")}var Wf=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:jr(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jr(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jr(t.namespace)}`}),!0}catch(e){if(e instanceof mr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof mr&&s.status===409)return;throw s}}};function gs(t){return t.join("")}var Kf=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof mr&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof mr&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},Gf=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Hf({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Wf(this.client,e),this.tableOps=new Kf(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},xn=class extends Error{constructor(t,e="storage",s,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function kn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ir=class extends xn{constructor(t,e,s,r="storage"){super(t,r,e,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lc=class extends xn{constructor(t,e,s="storage"){super(t,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const zf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mi=t=>{if(Array.isArray(t))return t.map(s=>mi(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=mi(r)}),e},Yf=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function vr(t){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(t)}function Xf(t,e){if(vr(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(vr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qf(t){var e=Xf(t,"string");return vr(e)=="symbol"?e:e+""}function Zf(t,e,s){return(e=Qf(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function ca(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)}return s}function Z(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ca(Object(s),!0).forEach(function(r){Zf(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ca(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}const ua=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ep=async(t,e,s,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(s!=null&&s.noResolveJson)){const n=t,i=n.status||500;if(typeof n.json=="function")n.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Ir(ua(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";e(new Ir(n.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";e(new Ir(n.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";e(new Ir(n.statusText||`HTTP ${i} error`,i,o,r))}}else e(new lc(ua(t),t,r))},tp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?Z(Z({},n),s):(Jf(r)?(n.headers=Z({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Z(Z({},n),s))};async function qs(t,e,s,r,n,i,o){return new Promise((a,l)=>{t(s,tp(e,r,n,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>ep(u,l,r,o))})}function cc(t="storage"){return{get:async(e,s,r,n)=>qs(e,"GET",s,r,n,void 0,t),post:async(e,s,r,n,i)=>qs(e,"POST",s,n,i,r,t),put:async(e,s,r,n,i)=>qs(e,"PUT",s,n,i,r,t),head:async(e,s,r,n)=>qs(e,"HEAD",s,Z(Z({},r),{},{noResolveJson:!0}),n,void 0,t),remove:async(e,s,r,n,i)=>qs(e,"DELETE",s,n,i,r,t)}}const sp=cc("storage"),{get:yr,post:ht,put:vi,head:rp,remove:Wi}=sp,st=cc("vectors");var Ds=class{constructor(t,e={},s,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=zf(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(kn(s))return{data:null,error:s};throw s}}},np=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}}};let uc;uc=Symbol.toStringTag;var ip=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[uc]="BlobDownloadBuilder",this.promise=null}asStream(){return new np(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}}};const op={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},da={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ap=class extends Ds{constructor(t,e={},s,r){super(t,e,r,"storage"),this.bucketId=s}async uploadOrUpdate(t,e,s,r){var n=this;return n.handleOperation(async()=>{let i;const o=Z(Z({},da),r);let a=Z(Z({},n.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",n.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=Z(Z({},a),r.headers));const u=n._removeEmptyFolders(e),c=n._getFinalPath(u),h=await(t=="PUT"?vi:ht)(n.fetch,`${n.url}/object/${c}`,i,Z({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,r){var n=this;const i=n._removeEmptyFolders(t),o=n._getFinalPath(i),a=new URL(n.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),n.handleOperation(async()=>{let l;const u=Z({upsert:da.upsert},r),c=Z(Z({},n.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await vi(n.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(t);const n=Z({},s.headers);e!=null&&e.upsert&&(n["x-upsert"]="true");const i=await ht(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(s.url+i.url),a=o.searchParams.get("token");if(!a)throw new xn("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var r=this;return r.handleOperation(async()=>await ht(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(t,e,s){var r=this;return r.handleOperation(async()=>({path:(await ht(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,s){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t),i=await ht(r.fetch,`${r.url}/object/sign/${n}`,Z({expiresIn:e},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(t,e,s){var r=this;return r.handleOperation(async()=>{const n=await ht(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return n.map(o=>Z(Z({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(t,e){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),n=r?`?${r}`:"",i=this._getFinalPath(t),o=()=>yr(this.fetch,`${this.url}/${s}/${i}${n}`,{headers:this.headers,noResolveJson:!0});return new ip(o,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);return e.handleOperation(async()=>mi(await yr(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})))}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await rp(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(kn(r)&&r instanceof lc){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const s=this._getFinalPath(t),r=[],n=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&r.push(n);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${s}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Wi(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,s){var r=this;return r.handleOperation(async()=>{const n=Z(Z(Z({},op),e),{},{prefix:t||""});return await ht(r.fetch,`${r.url}/object/list/${r.bucketId}`,n,{headers:r.headers},s)})}async listV2(t,e){var s=this;return s.handleOperation(async()=>{const r=Z({},t);return await ht(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const lp="2.93.3",Tr={"X-Client-Info":`storage-js/${lp}`};var cp=class extends Ds{constructor(t,e={},s,r){const n=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const i=n.href.replace(/\/$/,""),o=Z(Z({},Tr),e);super(i,o,s,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=e.listBucketOptionsToQueryString(t);return await yr(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await yr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var s=this;return s.handleOperation(async()=>await ht(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async updateBucket(t,e){var s=this;return s.handleOperation(async()=>await vi(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ht(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Wi(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},up=class extends Ds{constructor(t,e={},s){const r=t.replace(/\/$/,""),n=Z(Z({},Tr),e);super(r,n,s,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ht(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const r=s.toString(),n=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await yr(e.fetch,n,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Wi(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Yf(t))throw new xn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Gf({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},dp=class extends Ds{constructor(t,e={},s){const r=t.replace(/\/$/,""),n=Z(Z({},Tr),{},{"Content-Type":"application/json"},e);super(r,n,s,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var s=this;return s.handleOperation(async()=>await st.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var s=this;return s.handleOperation(async()=>await st.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{})}},hp=class extends Ds{constructor(t,e={},s){const r=t.replace(/\/$/,""),n=Z(Z({},Tr),{},{"Content-Type":"application/json"},e);super(r,n,s,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},fp=class extends Ds{constructor(t,e={},s){const r=t.replace(/\/$/,""),n=Z(Z({},Tr),{},{"Content-Type":"application/json"},e);super(r,n,s,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await st.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},pp=class extends fp{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new gp(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},gp=class extends dp{constructor(t,e,s,r){super(t,e,r),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new mp(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},mp=class extends hp{constructor(t,e,s,r,n){super(t,e,n),this.vectorBucketName=s,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,Z(Z({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},vp=class extends cp{constructor(t,e={},s,r){super(t,e,s,r)}from(t){return new ap(this.url,this.headers,t,this.fetch)}get vectors(){return new pp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new up(this.url+"/iceberg",this.headers,this.fetch)}};const dc="2.93.3",Es=30*1e3,yi=3,qn=yi*Es,yp="http://localhost:9999",bp="supabase.auth.token",wp={"X-Client-Info":`gotrue-js/${dc}`},bi="X-Supabase-Api-Version",hc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_p=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xp=10*60*1e3;class br extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kp extends br{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Sp(t){return G(t)&&t.name==="AuthApiError"}class cs extends br{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Bt extends br{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class tt extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hn(t){return G(t)&&t.name==="AuthSessionMissingError"}class ms extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ur extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nr extends Bt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ep(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}class ha extends Bt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tp extends Bt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wi extends Bt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Wn(t){return G(t)&&t.name==="AuthRetryableFetchError"}class fa extends Bt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class _i extends Bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pa=` 	
\r=`.split(""),Ap=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pa.length;e+=1)t[pa[e].charCodeAt(0)]=-2;for(let e=0;e<tn.length;e+=1)t[tn[e].charCodeAt(0)]=e;return t})();function ga(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(tn[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(tn[r]),e.queuedBits-=6}}function fc(t,e,s){const r=Ap[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ma(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Op(o,r,s)};for(let o=0;o<t.length;o+=1)fc(t.charCodeAt(o),n,i);return e.join("")}function Cp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rp(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Cp(r,e)}}function Op(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function js(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)fc(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Pp(t){const e=[];return Rp(t,s=>e.push(s)),new Uint8Array(e)}function us(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>ga(n,s,r)),ga(null,s,r),e.join("")}function $p(t){return Math.round(Date.now()/1e3)+t}function jp(){return Symbol("auth-callback")}const Me=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},pc=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function Ip(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const gc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Up=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ts=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ns=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},De=async(t,e)=>{await t.removeItem(e)};class Sn{constructor(){this.promise=new Sn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Sn.promiseConstructor=Promise;function Lr(t){const e=t.split(".");if(e.length!==3)throw new _i("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_p.test(e[r]))throw new _i("JWT not in base64url format");return{header:JSON.parse(ma(e[0])),payload:JSON.parse(ma(e[1])),signature:js(e[2]),raw:{header:e[0],payload:e[1]}}}async function Np(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lp(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Dp(t){return("0"+t.toString(16)).substr(-2)}function Mp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Dp).join("")}async function Bp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Vp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Bp(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(t,e,s=!1){const r=Mp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ts(t,`${e}-code-verifier`,n);const i=await Vp(r);return[i,r===i?"plain":"s256"]}const Fp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qp(t){const e=t.headers.get(bi);if(!e||!e.match(Fp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Hp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Wp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(t){if(!Kp.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gp(t,e){return new Proxy(t,{get:(s,r,n)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,n)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,n)}})}function va(t){return JSON.parse(JSON.stringify(t))}const os=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zp=[502,503,504];async function ya(t){var e;if(!Up(t))throw new wi(os(t),0);if(zp.includes(t.status))throw new wi(os(t),t.status);let s;try{s=await t.json()}catch(i){throw new cs(os(i),i)}let r;const n=qp(t);if(n&&n.getTime()>=hc["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new fa(os(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fa(os(s),t.status,s.weak_password.reasons);throw new kp(os(s),t.status||500,r)}const Jp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function Q(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[bi]||(i[bi]=hc["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Yp(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Yp(t,e,s,r,n,i){const o=Jp(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new wi(os(l),0)}if(a.ok||await ya(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ya(l)}}function dt(t){var e;let s=null;Zp(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=$p(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function ba(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Xp(t){return{data:t,error:null}}function Qp(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=_n(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function wa(t){return t}function Zp(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gn=["global","local","others"];class eg{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=gc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Gn[0]){if(Gn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gn.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:zt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=_n(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Qp,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(G(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zt})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:wa});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ys(e);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zt})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){ys(e);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:zt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){ys(e);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:zt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ys(e.userId);try{const{data:s,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(G(s))return{data:null,error:s};throw s}}async _deleteFactor(e){ys(e.userId),ys(e.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:wa});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(G(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(G(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(G(s))return{data:null,error:s};throw s}}}function _a(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const bs={debug:!!(globalThis&&pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tg extends mc{}async function sg(t,e,s){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function rg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ng(t){return parseInt(t,16)}function ig(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function og(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=vc(t.address),v=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let k=`URI: ${h}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(k+=`
Expiration Time: ${n.toISOString()}`),a&&(k+=`
Not Before: ${a.toISOString()}`),l&&(k+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);S+=`
- ${_}`}k+=S}return`${x}
${k}`}class je extends Error{constructor({message:e,code:s,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=n??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class sn extends je{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function ag({error:t,options:e}){var s,r,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(yc(o)){if(i.rp.id!==o)return new je({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function lg({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(yc(r)){if(s.rpId!==r)return new je({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class cg{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ug=new cg;function dg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,n=_n(t,["challenge","user","excludeCredentials"]),i=js(e).buffer,o=Object.assign(Object.assign({},s),{id:js(s.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:js(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function hg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=_n(t,["challenge","allowCredentials"]),n=js(e).buffer,i=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:js(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function fg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:us(new Uint8Array(t.response.attestationObject)),clientDataJSON:us(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:us(new Uint8Array(n.authenticatorData)),clientDataJSON:us(new Uint8Array(n.clientDataJSON)),signature:us(new Uint8Array(n.signature)),userHandle:n.userHandle?us(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xa(){var t,e;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function gg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sn("Browser returned unexpected credential type",e)}:{data:null,error:new sn("Empty credential response",e)}}catch(e){return{data:null,error:ag({error:e,options:t})}}}async function mg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sn("Browser returned unexpected credential type",e)}:{data:null,error:new sn("Empty credential response",e)}}catch(e){return{data:null,error:lg({error:e,options:t})}}}const vg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yg={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rn(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(s(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=rn(a,o):r[i]=rn(o)}else r[i]=o}return r}function bg(t,e){return rn(vg,t,e||{})}function wg(t,e){return rn(yg,t,e||{})}class _g{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:n},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!a)return{data:null,error:l};const u=n??ug.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const h=r;if(h)c.name=`${c.id}:${h}`;else{const p=(await this.client.getUser()).data.user,v=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=bg(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await gg({publicKey:c,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const c=wg(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await mg(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return G(a)?{data:null,error:a}:{data:null,error:new cs("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!s)return{data:null,error:new br("rpId is required for WebAuthn authentication")};try{if(!xa())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new cs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!s)return{data:null,error:new br("rpId is required for WebAuthn registration")};try{if(!xa())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new cs("Unexpected error in register",o)}}}}rg();const xg={url:yp,storageKey:bp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ka(t,e,s){return await s()}const ws={};class wr{get jwks(){var e,s;return(s=(e=ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},xg),e);if(this.storageKey=i.storageKey,this.instanceID=(s=wr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,wr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new eg({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gc(i.fetch),this.lock=i.lock||ka,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=sg:this.lock=ka,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _g(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:pc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_a(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_a(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dc}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(Me()&&(s=Ip(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ep(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return G(s)?this._returnResult({error:s}):this._returnResult({error:new cs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await vs(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:dt})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dt})}else throw new Ur("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ba})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ba})}else throw new Ur("You must provide either an email or phone number and a password");const{data:r,error:n}=s;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const i=new ms;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,l,u,c,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:y,wallet:x,statement:k,options:S}=e;let _;if(Me())if(typeof x=="object")_=x;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")_=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const C=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href),H=await _.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=vc(H[0]);let I=(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const B=await _.request({method:"eth_chainId"});I=ng(B)}const se={domain:C.host,address:F,statement:k,uri:C.href,version:"1",chainId:I,nonce:(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=og(se),v=await _.request({method:"personal_sign",params:[ig(p),F]})}try{const{data:y,error:x}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dt});if(x)throw x;if(!y||!y.session||!y.user){const k=new ms;return this._returnResult({data:{user:null,session:null},error:k})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(G(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,f,p;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:x,wallet:k,statement:S,options:_}=e;let C;if(Me())if(typeof k=="object")C=k;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))C=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const H=new URL((s=_==null?void 0:_.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in C&&C.signIn){const F=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),S?{statement:S}:null));let I;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")I=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)I=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)v=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),y=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${H.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(n=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const F=await C.signMessage(new TextEncoder().encode(v),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=F}}try{const{data:x,error:k}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:us(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:dt});if(k)throw k;if(!x||!x.session||!x.user){const S=new ms;return this._returnResult({data:{user:null,session:null},error:S})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:k})}catch(x){if(G(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const s=await ns(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Tp;const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dt});if(await De(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:dt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new ms;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await vs(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ur("You must provide either an email or phone number.")}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var s,r,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await vs(this.storage,this.storageKey));const u=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Xp});return!((i=u.data)===null||i===void 0)&&i.url&&Me()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new tt;const{error:n}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ur("You must provide either an email or phone number and a type")}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ns(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Kn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Gp(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tt}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(s){if(G(s))return Hn(s)&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await vs(this.storage,this.storageKey));const{data:u,error:c}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:zt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Lr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(s){if(G(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new tt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new Nr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ha("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ha("No code detected.");const{data:S,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Nr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const k={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i&&!Hn(i))return this._returnResult({error:i});const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sp(a)&&(a.status===404||a.status===401||a.status===403)||Hn(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=jp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await vs(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(G(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:n,data:{session:i}}=s;if(n)throw n;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ms}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Lp(async n=>(n>0&&await Np(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Wn(i)&&Date.now()+o-r<Es})}catch(r){if(this._debug(s,"error",r),G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ns(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Ts(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Kn()}else if(n&&!n.user&&!n.user){const o=await ns(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await De(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,n)):n.user=Kn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<qn;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${qn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Wn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Sn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),G(i)){const o={data:null,error:i};return Wn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await De(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=va(n);await Ts(this.storage,this.storageKey,i)}else{const n=va(s);await Ts(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await De(this.storage,this.storageKey),await De(this.storage,this.storageKey+"-code-verifier"),await De(this.storage,this.storageKey+"-user"),this.userStorage&&await De(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Es}ms, refresh threshold is ${yi} ticks`),n<=yi&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?this._returnResult({data:null,error:i}):await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fg(e.webauthn.credential_response):pg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:hg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){var s,r,n,i;if(e)try{const{payload:p}=Lr(e);let v=null;p.aal&&(v=p.aal);let y=v;const{data:{user:x},error:k}=await this.getUser(e);if(k)return this._returnResult({data:null,error:k});((r=(s=x==null?void 0:x.factors)===null||s===void 0?void 0:s.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const _=p.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:_},error:null}}catch(p){if(G(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Lr(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;return n?this._returnResult({data:null,error:n}):r?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new tt})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new tt});const o=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new tt});const o=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new tt})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;return n?this._returnResult({data:null,error:n}):r?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new tt})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+xp>n)return r;const{data:i,error:o}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Lr(r);s!=null&&s.allowExpired||Hp(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const c=Wp(n.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Pp(`${a}.${l}`)))throw new _i("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}}wr.nextInstanceID={};const kg=wr,Sg="2.93.3";let Ws="";typeof Deno<"u"?Ws="deno":typeof document<"u"?Ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ws="react-native":Ws="node";const Eg={"X-Client-Info":`supabase-js-${Ws}/${Sg}`},Tg={headers:Eg},Ag={schema:"public"},Cg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rg={};function _r(t){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(t)}function Og(t,e){if(_r(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(_r(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pg(t){var e=Og(t,"string");return _r(e)=="symbol"?e:e+""}function $g(t,e,s){return(e=Pg(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Sa(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)}return s}function Re(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Sa(Object(s),!0).forEach(function(r){$g(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Sa(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}const jg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ig=()=>Headers,Ug=(t,e,s)=>{const r=jg(s),n=Ig();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Re(Re({},o),{},{headers:u}))}};function Ng(t){return t.endsWith("/")?t:t+"/"}function Lg(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:Re(Re({},l),n),auth:Re(Re({},u),i),realtime:Re(Re({},c),o),storage:{},global:Re(Re(Re({},h),a),{},{headers:Re(Re({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Dg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ng(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mg=class extends kg{constructor(t){super(t)}},Bg=class{constructor(t,e,s){var r,n;this.supabaseUrl=t,this.supabaseKey=e;const i=Dg(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Ag,realtime:Rg,auth:Re(Re({},Cg),{},{storageKey:o}),global:Tg},l=Lg(s??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Ug(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Re({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Sf(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new vp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new bf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:n,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mg({url:this.authUrl.href,headers:Re(Re({},f),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Vf(this.realtimeUrl.href,Re(Re({},t),{},{params:Re(Re({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Vg=(t,e,s)=>new Bg(t,e,s);function Fg(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Fg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qg="https://apljvusmsrcjsthufuvp.supabase.co",Hg="sb_publishable__Bv3F7XYEELALffXv8MwAg_H30pjBAg",Ie=Vg(qg,Hg),Dr=re(null),zn=re(!1);function En(){return{siteContent:Dr,loading:zn,fetchContent:async()=>{zn.value=!0;try{const{data:s,error:r}=await Ie.from("site_content").select("*").single();if(r&&r.code!=="PGRST116")throw r;Dr.value=s}catch(s){console.error("Error fetching content:",s)}finally{zn.value=!1}return Dr.value},updateContent:async s=>{const{data:r}=await Ie.from("site_content").select("id").single();let n;if(r){const{data:i,error:o}=await Ie.from("site_content").update({...s,updated_at:new Date().toISOString()}).eq("id",r.id).select().single();if(o)throw o;n=i}else{const{data:i,error:o}=await Ie.from("site_content").insert([s]).select().single();if(o)throw o;n=i}return Dr.value=n,n}}}function Ki(){const t=re([]),e=re(!1),s=re(null),r=async()=>{e.value=!0,s.value=null;try{const{data:c,error:h}=await Ie.from("projects").select("*").order("display_order",{ascending:!0});if(h)throw h;t.value=c||[]}catch(c){s.value=c.message,console.error("Error fetching projects:",c)}finally{e.value=!1}};return{projects:t,loading:e,error:s,fetchProjects:r,getProject:async c=>{const{data:h,error:f}=await Ie.from("projects").select("*").eq("id",c).single();if(f)throw f;return h},createProject:async c=>{const{data:h,error:f}=await Ie.from("projects").insert([c]).select().single();if(f)throw f;return await r(),h},updateProject:async(c,h)=>{const{data:f,error:p}=await Ie.from("projects").update(h).eq("id",c).select().single();if(p)throw p;return await r(),f},deleteProject:async c=>{const{error:h}=await Ie.from("projects").delete().eq("id",c);if(h)throw h;await r()},uploadImage:async(c,h="projects")=>{const f=c.name.split(".").pop(),p=`${Date.now()}-${Math.random().toString(36).substring(7)}.${f}`,v=`${h}/${p}`,{error:y}=await Ie.storage.from("images").upload(v,c);if(y)throw y;const{data:{publicUrl:x}}=Ie.storage.from("images").getPublicUrl(v);return x},deleteImage:async c=>{const h=c.split("/images/")[1];h&&await Ie.storage.from("images").remove([h])}}}const Wg={class:"home"},Kg={class:"relative min-h-screen flex items-center pt-28 pb-48 px-6 lg:px-8 bg-gradient-to-b from-sand-light to-sand"},Gg={class:"max-w-7xl mx-auto w-full"},zg={class:"max-w-2xl"},Jg={class:"font-display text-5xl md:text-7xl font-normal leading-tight mb-7"},Yg={class:"text-clay"},Xg={class:"text-lg md:text-xl text-text-medium leading-relaxed mb-12"},Qg={class:"flex flex-col sm:flex-row gap-4"},Zg={class:"py-24 lg:py-32 bg-white px-6 lg:px-8"},em={class:"max-w-7xl mx-auto"},tm={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},sm={class:"aspect-[4/3] bg-gradient-to-br from-sand to-sand-dark flex items-center justify-center rounded-t-3xl overflow-hidden"},rm=["src","alt"],nm={key:1,class:"text-text-light text-xs tracking-widest uppercase"},im={class:"p-7"},om={class:"inline-block px-4 py-1.5 bg-clay/15 rounded-full text-xs font-semibold text-clay-dark uppercase tracking-wide mb-3"},am={class:"font-display text-2xl font-medium mb-2"},lm={class:"text-text-light text-sm"},cm={class:"text-center mt-14"},um={class:"relative py-32 lg:py-40 bg-sage overflow-hidden"},dm={class:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8"},hm={class:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center"},fm={class:"grid grid-cols-2 gap-6"},pm={class:"font-display text-4xl text-white mb-2"},gm={class:"text-white/70 text-sm"},mm={class:"py-24 lg:py-32 bg-sand-light px-6 lg:px-8"},vm={class:"max-w-7xl mx-auto"},ym={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},bm={class:"w-20 h-20 bg-gradient-to-br from-clay to-clay-dark rounded-full flex items-center justify-center mx-auto mb-7"},wm={key:0,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},_m={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},xm={key:2,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},km={class:"font-display text-2xl font-medium mb-4"},Sm={class:"text-text-medium text-sm leading-relaxed"},Em={class:"py-24 lg:py-32 bg-gradient-to-br from-clay to-clay-dark text-center px-6 lg:px-8"},Tm={class:"max-w-2xl mx-auto"},Am={__name:"Home",setup(t){const{siteContent:e,fetchContent:s}=En(),{projects:r,fetchProjects:n}=Ki(),i=re({hero:{title:"Where Nature Meets",titleHighlight:"Structure",description:"Creating harmonious spaces that flow with life. For 25 years, we've designed architecture that breathes with its environment."}}),o=re([{number:"25+",label:"Years of Excellence"},{number:"500+",label:"Projects Completed"},{number:"50+",label:"Awards Won"},{number:"100%",label:"Client Satisfaction"}]),a=re([{id:1,icon:"home",title:"Residential Design",description:"Crafting homes that embrace natural light and organic flow, creating spaces where families thrive."},{id:2,icon:"building",title:"Commercial Spaces",description:"Designing workspaces that inspire productivity while maintaining harmony with the environment."},{id:3,icon:"landmark",title:"Government Projects",description:"Creating public buildings that serve communities with dignity and architectural excellence."}]),l=Ze(()=>r.value.filter(u=>u.featured).slice(0,3));return Qt(async()=>{await Promise.all([s(),n()]),e.value&&(i.value={hero:{title:e.value.hero_title||i.value.hero.title,titleHighlight:e.value.hero_subtitle||i.value.hero.titleHighlight,description:e.value.hero_description||i.value.hero.description}},e.value.stats&&(o.value=e.value.stats),e.value.services&&(a.value=e.value.services))}),(u,c)=>{const h=fs("router-link");return P(),$("div",Wg,[d("section",Kg,[d("div",Gg,[d("div",zg,[c[2]||(c[2]=d("div",{class:"inline-flex items-center gap-2 px-5 py-2 bg-clay/15 rounded-full mb-8"},[d("span",{class:"text-xs font-semibold tracking-wider uppercase text-clay-dark"}," Architecture & Design Studio ")],-1)),d("h1",Jg,[Oe(q(i.value.hero.title)+" ",1),d("span",Yg,q(i.value.hero.titleHighlight),1)]),d("p",Xg,q(i.value.hero.description),1),d("div",Qg,[oe(h,{to:"/projects",class:"btn-primary text-center"},{default:Ne(()=>[...c[0]||(c[0]=[Oe(" Explore Projects ",-1)])]),_:1}),oe(h,{to:"/about",class:"btn-outline text-center"},{default:Ne(()=>[...c[1]||(c[1]=[Oe(" Our Philosophy ",-1)])]),_:1})])])]),c[3]||(c[3]=it('<div class="hidden lg:flex absolute right-16 top-1/2 -translate-y-1/2 w-[40%] aspect-[4/5]"><div class="w-full h-full bg-gradient-to-br from-clay to-clay-dark rounded-[200px_200px_100px_100px] flex items-center justify-center overflow-hidden"><span class="text-white/60 text-xs tracking-widest uppercase">Featured Project</span></div></div><div class="absolute bottom-0 left-0 right-0"><svg viewBox="0 0 1440 150" fill="none" preserveAspectRatio="none" class="w-full h-auto"><path d="M0 50C240 100 480 0 720 50C960 100 1200 0 1440 50V150H0V50Z" fill="#ffffff"></path></svg></div>',2))]),d("section",Zg,[d("div",em,[c[5]||(c[5]=d("div",{class:"text-center max-w-xl mx-auto mb-16"},[d("span",{class:"section-tag"},"Our Portfolio"),d("h2",{class:"section-title"},"Featured Projects"),d("p",{class:"text-text-medium leading-relaxed"}," Discover our collection of thoughtfully designed spaces that harmonize with their surroundings. ")],-1)),d("div",tm,[(P(!0),$(ce,null,Te(l.value,f=>(P(),$("div",{key:f.id,class:"organic-card cursor-pointer overflow-hidden"},[d("div",sm,[f.images&&f.images.length>0?(P(),$("img",{key:0,src:f.images[0],alt:f.name,class:"w-full h-full object-cover"},null,8,rm)):(P(),$("span",nm,"Project Image"))]),d("div",im,[d("span",om,q(f.type),1),d("h3",am,q(f.name),1),d("p",lm,q(f.location),1)])]))),128))]),d("div",cm,[oe(h,{to:"/projects",class:"btn-primary"},{default:Ne(()=>[...c[4]||(c[4]=[Oe(" View All Projects ",-1)])]),_:1})])])]),d("section",um,[c[10]||(c[10]=d("div",{class:"absolute top-0 left-0 right-0 h-24 bg-white",style:{"border-radius":"0 0 50% 50%"}},null,-1)),c[11]||(c[11]=d("div",{class:"absolute bottom-0 left-0 right-0 h-24 bg-sand-light",style:{"border-radius":"50% 50% 0 0"}},null,-1)),d("div",dm,[d("div",hm,[d("div",null,[c[6]||(c[6]=d("h2",{class:"font-display text-4xl lg:text-5xl text-white mb-7 leading-tight"}," Building Dreams That Flow With Life ",-1)),c[7]||(c[7]=d("p",{class:"text-white/85 text-lg leading-relaxed mb-5"}," At Chamankar Group, we believe architecture should breathe. Our designs embrace natural forms and organic materials, creating spaces that feel alive and connected to their environment. ",-1)),c[8]||(c[8]=d("p",{class:"text-white/85 text-lg leading-relaxed mb-10"}," With over 25 years of experience, we've mastered the art of blending innovation with nature's timeless principles. ",-1)),d("div",fm,[(P(!0),$(ce,null,Te(o.value,f=>(P(),$("div",{key:f.label,class:"bg-white/10 rounded-2xl p-6"},[d("div",pm,q(f.number),1),d("div",gm,q(f.label),1)]))),128))])]),c[9]||(c[9]=it('<div class="hidden lg:grid grid-cols-2 gap-5"><div class="aspect-[3/4] bg-white/20 rounded-full flex items-center justify-center mt-14"><span class="text-white/50 text-xs tracking-widest uppercase">Image</span></div><div class="aspect-[3/4] bg-white/20 rounded-full flex items-center justify-center"><span class="text-white/50 text-xs tracking-widest uppercase">Image</span></div></div>',1))])])]),d("section",mm,[d("div",vm,[c[15]||(c[15]=d("div",{class:"text-center max-w-xl mx-auto mb-16"},[d("span",{class:"section-tag"},"What We Do"),d("h2",{class:"section-title"},"Our Expertise")],-1)),d("div",ym,[(P(!0),$(ce,null,Te(a.value,f=>(P(),$("div",{key:f.id,class:"bg-white rounded-[2rem] p-10 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-xl"},[d("div",bm,[f.icon==="home"?(P(),$("svg",wm,[...c[12]||(c[12]=[d("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},null,-1)])])):f.icon==="building"?(P(),$("svg",_m,[...c[13]||(c[13]=[d("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"},null,-1),d("path",{d:"M9 22v-4h6v4"},null,-1)])])):(P(),$("svg",xm,[...c[14]||(c[14]=[d("path",{d:"M3 21h18M9 21V8l-6 4v9M9 8l6-4 6 4M15 21V8"},null,-1)])]))]),d("h3",km,q(f.title),1),d("p",Sm,q(f.description),1)]))),128))])])]),d("section",Em,[d("div",Tm,[c[17]||(c[17]=d("h2",{class:"font-display text-4xl lg:text-5xl text-white mb-6"}," Ready to Create Something Beautiful? ",-1)),c[18]||(c[18]=d("p",{class:"text-white/90 text-lg mb-10"}," Let's discuss your vision and explore how organic design can transform your space. ",-1)),oe(h,{to:"/contact",class:"inline-block px-12 py-5 bg-white text-clay-dark font-semibold rounded-full hover:-translate-y-1 hover:shadow-xl transition-all"},{default:Ne(()=>[...c[16]||(c[16]=[Oe(" Start Your Journey ",-1)])]),_:1})])])])}}},Cm={class:"about"},Rm={class:"py-24 lg:py-32 bg-white px-6 lg:px-8"},Om={class:"max-w-7xl mx-auto"},Pm={class:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center"},$m={class:"text-text-medium text-lg leading-relaxed mb-6"},jm={class:"relative py-32 lg:py-40 bg-sage overflow-hidden"},Im={class:"relative z-10 max-w-4xl mx-auto px-6 lg:px-8 text-center"},Um={class:"inline-block text-xs font-semibold tracking-widest uppercase text-white/70 mb-4"},Nm={class:"space-y-6"},Lm={class:"py-24 lg:py-32 bg-sand-light px-6 lg:px-8"},Dm={class:"max-w-7xl mx-auto"},Mm={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},Bm={class:"w-16 h-16 bg-gradient-to-br from-clay to-clay-dark rounded-full flex items-center justify-center mx-auto mb-6"},Vm={key:0,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},Fm={key:1,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},qm={key:2,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},Hm={key:3,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},Wm={class:"font-display text-xl font-medium mb-3"},Km={class:"text-text-medium text-sm leading-relaxed"},Gm={class:"py-24 lg:py-32 bg-white px-6 lg:px-8"},zm={class:"max-w-7xl mx-auto"},Jm={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},Ym={class:"w-16 h-16 bg-gradient-to-br from-sage to-sage-dark rounded-full flex items-center justify-center mb-6"},Xm={key:0,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},Qm={key:1,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},Zm={key:2,width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},ev={class:"font-display text-2xl font-medium mb-4"},tv={class:"text-text-medium leading-relaxed"},sv={class:"py-24 lg:py-32 bg-earth text-white px-6 lg:px-8"},rv={class:"max-w-7xl mx-auto"},nv={class:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center"},iv={class:"font-display text-5xl text-clay mb-3"},ov={class:"text-white/70"},av={class:"py-24 lg:py-32 bg-gradient-to-br from-clay to-clay-dark text-center px-6 lg:px-8"},lv={class:"max-w-2xl mx-auto"},cv={__name:"About",setup(t){const{siteContent:e,fetchContent:s}=En(),r=re([{number:"1999",label:"Founded"},{number:"150+",label:"Projects"},{number:"40+",label:"Awards"},{number:"200+",label:"Team Members"}]),n=re({about:{intro:"M/s CHAMANKAR GROUP is a reputed & trusted name in the construction industry since more than 25 years. Over the years, the company has been the pioneering force behind the rapidly changing skyline of Mumbai, with developments that span the residential, retail, commercial & Government sectors.",vision:{title:"Our Vision",paragraphs:["Aspiring for world class living standards and contemporary work places come within reach of all. We at CHAMANKAR GROUP expand horizons, link people and organizations, set up new trends, and continually enhance the values entrusted to our care.","Our aim is setting up of comfortable and luxurious dwelling spheres that impeccably match world class infrastructures.","We create infrastructure which is a perfect blend of beauty and strength. At the core the idea still remains to provide a world class experience to our ever valued customers."]},values:[{id:1,title:"Excellence",description:"Committed to delivering exceptional quality in every project we undertake."},{id:2,title:"Innovation",description:"Pioneering new trends and expanding horizons in construction."},{id:3,title:"Trust",description:"Building lasting relationships based on reliability and integrity."},{id:4,title:"Sustainability",description:"Creating spaces that respect and harmonize with nature."}],expertise:[{id:1,title:"Residential",description:"Creating luxurious living spaces that become perfect homes for families."},{id:2,title:"Commercial",description:"Developing modern workspaces that inspire productivity and success."},{id:3,title:"Government",description:"Delivering prestigious government projects with architectural excellence."}]}});return Qt(async()=>{await s(),e.value&&(n.value={about:{intro:e.value.about_intro||n.value.about.intro,vision:{title:e.value.about_vision_title||n.value.about.vision.title,paragraphs:e.value.about_vision_paragraphs||n.value.about.vision.paragraphs},values:e.value.values||n.value.about.values,expertise:e.value.expertise||n.value.about.expertise}},e.value.timeline&&(r.value=e.value.timeline))}),(i,o)=>{const a=fs("router-link");return P(),$("div",Cm,[o[19]||(o[19]=it('<section class="relative pt-32 pb-20 px-6 lg:px-8 bg-gradient-to-b from-sand-light to-sand"><div class="max-w-7xl mx-auto text-center"><span class="section-tag">Our Story</span><h1 class="font-display text-5xl md:text-6xl font-normal mb-6">About Chamankar Group</h1><p class="text-text-medium text-lg max-w-2xl mx-auto"> For over 25 years, we&#39;ve been the pioneering force behind Mumbai&#39;s rapidly changing skyline. </p></div></section>',1)),d("section",Rm,[d("div",Om,[d("div",Pm,[d("div",null,[o[0]||(o[0]=d("span",{class:"section-tag"},"Who We Are",-1)),o[1]||(o[1]=d("h2",{class:"section-title"},"Building Dreams That Flow With Life",-1)),d("p",$m,q(n.value.about.intro),1),o[2]||(o[2]=d("p",{class:"text-text-medium leading-relaxed"}," At Chamankar Group, we believe architecture should breathe. Our designs embrace natural forms and organic materials, creating spaces that feel alive and connected to their environment. ",-1))]),o[3]||(o[3]=it('<div class="grid grid-cols-2 gap-6"><div class="aspect-[3/4] bg-gradient-to-br from-sand to-sand-dark rounded-[100px] flex items-center justify-center"><span class="text-text-light text-xs tracking-widest uppercase">Image</span></div><div class="aspect-[3/4] bg-gradient-to-br from-clay to-clay-dark rounded-[100px] flex items-center justify-center mt-12"><span class="text-white/60 text-xs tracking-widest uppercase">Image</span></div></div>',1))])])]),d("section",jm,[o[4]||(o[4]=d("div",{class:"absolute top-0 left-0 right-0 h-24 bg-white",style:{"border-radius":"0 0 50% 50%"}},null,-1)),o[5]||(o[5]=d("div",{class:"absolute bottom-0 left-0 right-0 h-24 bg-sand-light",style:{"border-radius":"50% 50% 0 0"}},null,-1)),d("div",Im,[d("span",Um,q(n.value.about.vision.title),1),d("div",Nm,[(P(!0),$(ce,null,Te(n.value.about.vision.paragraphs,(l,u)=>(P(),$("p",{key:u,class:"text-white/90 text-lg leading-relaxed"},q(l),1))),128))])])]),d("section",Lm,[d("div",Dm,[o[10]||(o[10]=d("div",{class:"text-center max-w-xl mx-auto mb-16"},[d("span",{class:"section-tag"},"What Drives Us"),d("h2",{class:"section-title"},"Our Core Values")],-1)),d("div",Mm,[(P(!0),$(ce,null,Te(n.value.about.values,l=>(P(),$("div",{key:l.id,class:"bg-white rounded-3xl p-8 text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-xl"},[d("div",Bm,[l.title==="Excellence"?(P(),$("svg",Vm,[...o[6]||(o[6]=[d("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},null,-1)])])):l.title==="Innovation"?(P(),$("svg",Fm,[...o[7]||(o[7]=[d("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"},null,-1)])])):l.title==="Trust"?(P(),$("svg",qm,[...o[8]||(o[8]=[d("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},null,-1)])])):(P(),$("svg",Hm,[...o[9]||(o[9]=[d("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"},null,-1),d("circle",{cx:"12",cy:"10",r:"3"},null,-1)])]))]),d("h3",Wm,q(l.title),1),d("p",Km,q(l.description),1)]))),128))])])]),d("section",Gm,[d("div",zm,[o[14]||(o[14]=d("div",{class:"text-center max-w-xl mx-auto mb-16"},[d("span",{class:"section-tag"},"What We Do"),d("h2",{class:"section-title"},"Our Expertise")],-1)),d("div",Jm,[(P(!0),$(ce,null,Te(n.value.about.expertise,l=>(P(),$("div",{key:l.id,class:"bg-sand-light rounded-3xl p-10 transition-all duration-300 hover:-translate-y-2 hover:shadow-xl"},[d("div",Ym,[l.title==="Residential"?(P(),$("svg",Xm,[...o[11]||(o[11]=[d("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},null,-1)])])):l.title==="Commercial"?(P(),$("svg",Qm,[...o[12]||(o[12]=[d("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"},null,-1),d("path",{d:"M9 22v-4h6v4"},null,-1)])])):(P(),$("svg",Zm,[...o[13]||(o[13]=[d("path",{d:"M3 21h18M9 21V8l-6 4v9M9 8l6-4 6 4M15 21V8"},null,-1)])]))]),d("h3",ev,q(l.title),1),d("p",tv,q(l.description),1)]))),128))])])]),d("section",sv,[d("div",rv,[o[15]||(o[15]=d("div",{class:"text-center max-w-xl mx-auto mb-16"},[d("span",{class:"inline-block text-xs font-semibold tracking-widest uppercase text-clay mb-4"},"Our Journey"),d("h2",{class:"font-display text-4xl md:text-5xl font-normal mb-5"},"25+ Years of Excellence")],-1)),d("div",nv,[(P(!0),$(ce,null,Te(r.value,l=>(P(),$("div",{key:l.label,class:"bg-white/10 rounded-2xl p-8"},[d("div",iv,q(l.number),1),d("div",ov,q(l.label),1)]))),128))])])]),d("section",av,[d("div",lv,[o[17]||(o[17]=d("h2",{class:"font-display text-4xl lg:text-5xl text-white mb-6"}," Want to Learn More? ",-1)),o[18]||(o[18]=d("p",{class:"text-white/90 text-lg mb-10"}," Discover our portfolio of exceptional projects ",-1)),oe(a,{to:"/projects",class:"inline-block px-12 py-5 bg-white text-clay-dark font-semibold rounded-full hover:-translate-y-1 hover:shadow-xl transition-all"},{default:Ne(()=>[...o[16]||(o[16]=[Oe(" View Our Projects ",-1)])]),_:1})])])])}}},uv={class:"modal-header"},dv={class:"font-display text-2xl md:text-3xl font-medium text-text-dark"},hv={class:"modal-body"},fv={class:"mb-8"},pv={class:"main-image-container"},gv=["src","alt"],mv={key:1,class:"placeholder-image"},vv={key:2,class:"image-nav-buttons"},yv={key:3,class:"image-counter"},bv={key:0,class:"thumbnail-gallery"},wv=["onClick"],_v=["src","alt"],xv={class:"details-grid"},kv={class:"detail-item"},Sv={class:"detail-value"},Ev={class:"detail-item"},Tv={class:"detail-value"},Av={class:"type-badge"},Cv={key:0,class:"detail-item"},Rv={class:"detail-value"},Ov={key:1,class:"detail-item"},Pv={class:"detail-value"},$v={key:2,class:"detail-item"},jv={class:"detail-value"},Iv={key:3,class:"detail-item"},Uv={class:"detail-value"},Nv={class:"mt-8"},Lv={class:"text-text-medium leading-relaxed whitespace-pre-line"},Dv={key:0,class:"mt-8"},Mv={class:"certifications-list"},Bv={key:1,class:"mt-8"},Vv={class:"features-list"},Fv={__name:"ProjectModal",props:{show:{type:Boolean,required:!0},project:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const s=t,r=e,n=re(0),i=Ze(()=>s.project.images&&s.project.images.length>0?s.project.images:s.project.image?[s.project.image]:[]),o=()=>{r("close")},a=()=>{n.value=(n.value+1)%i.value.length},l=()=>{n.value=n.value===0?i.value.length-1:n.value-1},u=h=>{const f=h==null?void 0:h.toLowerCase();return f==="completed"?"status-completed":f==="ongoing"||f==="in progress"?"status-ongoing":f==="upcoming"?"status-upcoming":""};Zs(()=>s.show,h=>{h&&(n.value=0)});const c=h=>{s.show&&(h.key==="Escape"&&o(),h.key==="ArrowLeft"&&l(),h.key==="ArrowRight"&&a())};return typeof window<"u"&&window.addEventListener("keydown",c),(h,f)=>(P(),mn(nl,{to:"body"},[oe(Vl,{name:"modal"},{default:Ne(()=>[t.show?(P(),$("div",{key:0,class:"modal-overlay",onClick:o},[d("div",{class:"modal-container",onClick:f[0]||(f[0]=fr(()=>{},["stop"]))},[d("div",uv,[d("h2",dv,q(t.project.name),1),d("button",{onClick:o,class:"close-button"},[...f[1]||(f[1]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])]),d("div",hv,[d("div",fv,[d("div",pv,[i.value.length>0?(P(),$("img",{key:0,src:i.value[n.value],alt:t.project.name,class:"main-image"},null,8,gv)):(P(),$("div",mv,[...f[2]||(f[2]=[d("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#8a847e","stroke-width":"1.5"},[d("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"}),d("path",{d:"M9 22v-4h6v4"}),d("line",{x1:"8",y1:"6",x2:"16",y2:"6"}),d("line",{x1:"8",y1:"10",x2:"16",y2:"10"})],-1)])])),i.value.length>1?(P(),$("div",vv,[d("button",{onClick:l,class:"nav-button"},[...f[3]||(f[3]=[d("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("path",{d:"M15 18l-6-6 6-6"})],-1)])]),d("button",{onClick:a,class:"nav-button"},[...f[4]||(f[4]=[d("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("path",{d:"M9 18l6-6-6-6"})],-1)])])])):Pe("",!0),i.value.length>1?(P(),$("div",yv,q(n.value+1)+" / "+q(i.value.length),1)):Pe("",!0)]),i.value.length>1?(P(),$("div",bv,[(P(!0),$(ce,null,Te(i.value,(p,v)=>(P(),$("button",{key:v,onClick:y=>n.value=v,class:Qe(["thumbnail",{"thumbnail-active":v===n.value}])},[d("img",{src:p,alt:`${t.project.name} ${v+1}`,class:"thumbnail-img"},null,8,_v)],10,wv))),128))])):Pe("",!0)]),d("div",xv,[d("div",kv,[f[6]||(f[6]=d("div",{class:"detail-label"},"Location",-1)),d("div",Sv,[f[5]||(f[5]=d("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#c4936a","stroke-width":"2",class:"inline mr-2"},[d("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),d("circle",{cx:"12",cy:"10",r:"3"})],-1)),Oe(" "+q(t.project.location),1)])]),d("div",Ev,[f[7]||(f[7]=d("div",{class:"detail-label"},"Project Type",-1)),d("div",Tv,[d("span",Av,q(t.project.type),1)])]),t.project.completionDate?(P(),$("div",Cv,[f[9]||(f[9]=d("div",{class:"detail-label"},"Completion Date",-1)),d("div",Rv,[f[8]||(f[8]=d("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#c4936a","stroke-width":"2",class:"inline mr-2"},[d("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),d("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1)),Oe(" "+q(t.project.completionDate),1)])])):Pe("",!0),t.project.client?(P(),$("div",Ov,[f[10]||(f[10]=d("div",{class:"detail-label"},"Client",-1)),d("div",Pv,q(t.project.client),1)])):Pe("",!0),t.project.area?(P(),$("div",$v,[f[11]||(f[11]=d("div",{class:"detail-label"},"Project Area",-1)),d("div",jv,q(t.project.area),1)])):Pe("",!0),t.project.status?(P(),$("div",Iv,[f[12]||(f[12]=d("div",{class:"detail-label"},"Status",-1)),d("div",Uv,[d("span",{class:Qe(["status-badge",u(t.project.status)])},q(t.project.status),3)])])):Pe("",!0)]),d("div",Nv,[f[13]||(f[13]=d("h3",{class:"font-display text-xl font-medium text-text-dark mb-4"},"Project Description",-1)),d("p",Lv,q(t.project.description),1)]),t.project.certifications&&t.project.certifications.length>0?(P(),$("div",Dv,[f[15]||(f[15]=d("h3",{class:"font-display text-xl font-medium text-text-dark mb-4"},"Certifications & Awards",-1)),d("div",Mv,[(P(!0),$(ce,null,Te(t.project.certifications,(p,v)=>(P(),$("div",{key:v,class:"certification-item"},[f[14]||(f[14]=d("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#c4936a","stroke-width":"2"},[d("path",{d:"M12 15l-2 5l9-9l-9-9l2 5l-5 4z",transform:"rotate(45 12 12)"})],-1)),d("span",null,q(p),1)]))),128))])])):Pe("",!0),t.project.features&&t.project.features.length>0?(P(),$("div",Bv,[f[17]||(f[17]=d("h3",{class:"font-display text-xl font-medium text-text-dark mb-4"},"Key Features",-1)),d("ul",Vv,[(P(!0),$(ce,null,Te(t.project.features,(p,v)=>(P(),$("li",{key:v,class:"feature-item"},[f[16]||(f[16]=d("div",{class:"feature-check"},[d("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[d("polyline",{points:"20 6 9 17 4 12"})])],-1)),d("span",null,q(p),1)]))),128))])])):Pe("",!0)])])])):Pe("",!0)]),_:1})]))}},qv=yn(Fv,[["__scopeId","data-v-7c57e800"]]),Hv={class:"projects"},Wv={class:"bg-white py-8 px-6 lg:px-8 border-b border-sand"},Kv={class:"max-w-7xl mx-auto"},Gv={class:"flex flex-wrap justify-center gap-3"},zv=["onClick"],Jv={class:"py-16 lg:py-24 bg-white px-6 lg:px-8"},Yv={class:"max-w-7xl mx-auto"},Xv={key:0,class:"text-center py-20"},Qv={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},Zv=["onClick"],ey={class:"aspect-[4/3] overflow-hidden bg-sand relative rounded-t-3xl"},ty=["src","alt"],sy={key:1,class:"w-full h-full bg-gradient-to-br from-sand to-sand-dark flex items-center justify-center"},ry={key:2,class:"absolute top-4 right-4 bg-earth/90 text-white px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-1.5"},ny={class:"p-7"},iy={class:"inline-block px-4 py-1.5 bg-clay/15 rounded-full text-xs font-semibold text-clay-dark uppercase tracking-wide mb-3"},oy={class:"font-display text-2xl font-medium mb-2 group-hover:text-clay transition-colors"},ay={class:"text-text-light text-sm flex items-center gap-1.5 mb-4"},ly={class:"text-text-medium text-sm leading-relaxed line-clamp-2"},cy={class:"py-24 lg:py-32 bg-sand-light px-6 lg:px-8"},uy={class:"max-w-3xl mx-auto text-center"},dy={__name:"Projects",setup(t){const{projects:e,fetchProjects:s}=Ki(),r=re(!1),n=re({}),i=re("All"),o=["All","Residential","Commercial","Government"],a=Ze(()=>i.value==="All"?e.value:e.value.filter(f=>f.type===i.value)),l=f=>{n.value=f,r.value=!0},u=()=>{r.value=!1},c=f=>f.images&&f.images.length>0?f.images[0]:f.image?f.image:null,h=f=>f.images&&f.images.length>0?f.images.length:f.image?1:0;return Qt(()=>{s()}),(f,p)=>{const v=fs("router-link");return P(),$("div",Hv,[p[9]||(p[9]=it('<section class="relative pt-32 pb-20 px-6 lg:px-8 bg-gradient-to-b from-sand-light to-sand" data-v-97a8364d><div class="max-w-7xl mx-auto text-center" data-v-97a8364d><span class="section-tag" data-v-97a8364d>Our Portfolio</span><h1 class="font-display text-5xl md:text-6xl font-normal mb-6" data-v-97a8364d>Our Projects</h1><p class="text-text-medium text-lg max-w-2xl mx-auto" data-v-97a8364d> Discover our collection of thoughtfully designed spaces that harmonize with their surroundings. </p></div></section>',1)),d("section",Wv,[d("div",Kv,[d("div",Gv,[(P(),$(ce,null,Te(o,y=>d("button",{key:y,onClick:x=>i.value=y,class:Qe(["px-6 py-2.5 rounded-full text-sm font-medium transition-all",i.value===y?"bg-earth text-white":"bg-sand-light text-text-medium hover:bg-sand"])},q(y),11,zv)),64))])])]),d("section",Jv,[d("div",Yv,[a.value.length===0?(P(),$("div",Xv,[...p[0]||(p[0]=[it('<div class="w-20 h-20 bg-sand rounded-full flex items-center justify-center mx-auto mb-6" data-v-97a8364d><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#8a847e" stroke-width="2" data-v-97a8364d><path d="M3 21h18M9 21V8l-6 4v9M9 8l6-4 6 4M15 21V8" data-v-97a8364d></path></svg></div><h3 class="font-display text-2xl mb-3" data-v-97a8364d>No Projects Available</h3><p class="text-text-light" data-v-97a8364d>Projects will be added soon.</p>',3)])])):(P(),$("div",Qv,[(P(!0),$(ce,null,Te(a.value,y=>(P(),$("div",{key:y.id,onClick:x=>l(y),class:"organic-card cursor-pointer overflow-hidden group"},[d("div",ey,[c(y)?(P(),$("img",{key:0,src:c(y),alt:y.name,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,ty)):(P(),$("div",sy,[...p[1]||(p[1]=[it('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#8a847e" stroke-width="1.5" data-v-97a8364d><rect x="4" y="2" width="16" height="20" rx="2" data-v-97a8364d></rect><path d="M9 22v-4h6v4" data-v-97a8364d></path><line x1="8" y1="6" x2="16" y2="6" data-v-97a8364d></line><line x1="8" y1="10" x2="16" y2="10" data-v-97a8364d></line><line x1="8" y1="14" x2="12" y2="14" data-v-97a8364d></line></svg>',1)])])),h(y)>1?(P(),$("div",ry,[p[2]||(p[2]=d("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),d("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),d("path",{d:"M21 15l-5-5L5 21"})],-1)),Oe(" "+q(h(y)),1)])):Pe("",!0)]),d("div",ny,[d("span",iy,q(y.type),1),d("h3",oy,q(y.name),1),d("p",ay,[p[3]||(p[3]=d("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),d("circle",{cx:"12",cy:"10",r:"3"})],-1)),Oe(" "+q(y.location),1)]),d("p",ly,q(y.description),1),p[4]||(p[4]=d("div",{class:"mt-5 flex items-center text-clay text-sm font-medium group-hover:gap-2 transition-all"},[Oe(" View Details "),d("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"ml-1"},[d("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1))])],8,Zv))),128))]))])]),oe(qv,{show:r.value,project:n.value,onClose:u},null,8,["show","project"]),d("section",cy,[d("div",uy,[p[6]||(p[6]=d("span",{class:"section-tag"},"Let's Work Together",-1)),p[7]||(p[7]=d("h2",{class:"section-title"},"Interested in Our Work?",-1)),p[8]||(p[8]=d("p",{class:"text-text-medium text-lg mb-10"}," Let's discuss how we can bring your architectural vision to life. ",-1)),oe(v,{to:"/contact",class:"btn-primary"},{default:Ne(()=>[...p[5]||(p[5]=[Oe(" Start a Conversation ",-1)])]),_:1})])])])}}},hy=yn(dy,[["__scopeId","data-v-97a8364d"]]);function bc(){const t=re([]),e=re(!1),s=async o=>{const{data:a,error:l}=await Ie.from("contact_submissions").insert([{name:o.name,email:o.email,phone:o.phone||null,subject:o.subject,message:o.message}]).select().single();if(l)throw l;return a},r=async()=>{e.value=!0;try{const{data:o,error:a}=await Ie.from("contact_submissions").select("*").order("created_at",{ascending:!1});if(a)throw a;t.value=o||[]}catch(o){console.error("Error fetching submissions:",o)}finally{e.value=!1}};return{submissions:t,loading:e,submitContact:s,fetchSubmissions:r,markAsRead:async o=>{const{error:a}=await Ie.from("contact_submissions").update({read:!0}).eq("id",o);if(a)throw a;await r()},deleteSubmission:async o=>{const{error:a}=await Ie.from("contact_submissions").delete().eq("id",o);if(a)throw a;await r()}}}const fy={class:"contact"},py={class:"py-16 lg:py-24 bg-white px-6 lg:px-8"},gy={class:"max-w-7xl mx-auto"},my={class:"grid grid-cols-1 lg:grid-cols-2 gap-16"},vy={class:"bg-sand-light rounded-3xl p-8 lg:p-12"},yy=["disabled"],by={class:"space-y-6 mb-10"},wy={class:"flex items-start gap-5"},_y={class:"text-text-medium"},xy={class:"flex items-start gap-5"},ky=["href"],Sy={class:"flex items-start gap-5"},Ey=["href"],Ty={__name:"Contact",setup(t){const{submitContact:e}=bc(),{siteContent:s,fetchContent:r}=En(),n=re({name:"",email:"",phone:"",subject:"",message:""}),i=re({address:"Mumbai, Maharashtra, India",email:"info@chamankar.com",phone:"+91 22 1234 5678"}),o=re(""),a=re(!1),l=re(!1),u=async()=>{l.value=!0;try{await e(n.value),a.value=!0,o.value="Thank you for your message! We will get back to you soon.",n.value={name:"",email:"",phone:"",subject:"",message:""}}catch(c){a.value=!1,o.value="Sorry, there was an error sending your message. Please try again.",console.error("Contact form error:",c)}finally{l.value=!1,setTimeout(()=>{o.value=""},5e3)}};return Qt(async()=>{await r(),s.value&&(i.value={address:s.value.contact_address||i.value.address,email:s.value.contact_email||i.value.email,phone:s.value.contact_phone||i.value.phone})}),(c,h)=>(P(),$("div",fy,[h[21]||(h[21]=it('<section class="relative pt-32 pb-20 px-6 lg:px-8 bg-gradient-to-b from-sand-light to-sand"><div class="max-w-7xl mx-auto text-center"><span class="section-tag">Get in Touch</span><h1 class="font-display text-5xl md:text-6xl font-normal mb-6">Contact Us</h1><p class="text-text-medium text-lg max-w-2xl mx-auto"> Let&#39;s discuss your vision and explore how we can bring your architectural dreams to life. </p></div></section>',1)),d("section",py,[d("div",gy,[d("div",my,[d("div",vy,[h[10]||(h[10]=d("h2",{class:"font-display text-3xl mb-3"},"Send a Message",-1)),h[11]||(h[11]=d("p",{class:"text-text-medium mb-8"},"Fill out the form below and we'll get back to you as soon as possible.",-1)),d("form",{onSubmit:fr(u,["prevent"]),class:"space-y-6"},[d("div",null,[h[5]||(h[5]=d("label",{for:"name",class:"block text-sm font-medium text-text-dark mb-2"},"Full Name *",-1)),le(d("input",{type:"text",id:"name","onUpdate:modelValue":h[0]||(h[0]=f=>n.value.name=f),required:"",class:"w-full px-5 py-3.5 bg-white border-0 rounded-xl text-text-dark placeholder-text-light focus:ring-2 focus:ring-clay transition-all",placeholder:"Your name"},null,512),[[ge,n.value.name]])]),d("div",null,[h[6]||(h[6]=d("label",{for:"email",class:"block text-sm font-medium text-text-dark mb-2"},"Email Address *",-1)),le(d("input",{type:"email",id:"email","onUpdate:modelValue":h[1]||(h[1]=f=>n.value.email=f),required:"",class:"w-full px-5 py-3.5 bg-white border-0 rounded-xl text-text-dark placeholder-text-light focus:ring-2 focus:ring-clay transition-all",placeholder:"your.email@example.com"},null,512),[[ge,n.value.email]])]),d("div",null,[h[7]||(h[7]=d("label",{for:"phone",class:"block text-sm font-medium text-text-dark mb-2"},"Phone Number",-1)),le(d("input",{type:"tel",id:"phone","onUpdate:modelValue":h[2]||(h[2]=f=>n.value.phone=f),class:"w-full px-5 py-3.5 bg-white border-0 rounded-xl text-text-dark placeholder-text-light focus:ring-2 focus:ring-clay transition-all",placeholder:"+91 XXXXX XXXXX"},null,512),[[ge,n.value.phone]])]),d("div",null,[h[8]||(h[8]=d("label",{for:"subject",class:"block text-sm font-medium text-text-dark mb-2"},"Subject *",-1)),le(d("input",{type:"text",id:"subject","onUpdate:modelValue":h[3]||(h[3]=f=>n.value.subject=f),required:"",class:"w-full px-5 py-3.5 bg-white border-0 rounded-xl text-text-dark placeholder-text-light focus:ring-2 focus:ring-clay transition-all",placeholder:"How can we help you?"},null,512),[[ge,n.value.subject]])]),d("div",null,[h[9]||(h[9]=d("label",{for:"message",class:"block text-sm font-medium text-text-dark mb-2"},"Message *",-1)),le(d("textarea",{id:"message","onUpdate:modelValue":h[4]||(h[4]=f=>n.value.message=f),required:"",rows:"5",class:"w-full px-5 py-3.5 bg-white border-0 rounded-xl text-text-dark placeholder-text-light focus:ring-2 focus:ring-clay transition-all resize-none",placeholder:"Tell us more about your project..."},null,512),[[ge,n.value.message]])]),d("button",{type:"submit",disabled:l.value,class:"w-full py-4 bg-earth text-white font-medium rounded-full hover:bg-clay transition-all disabled:bg-text-light disabled:cursor-not-allowed"},q(l.value?"Sending...":"Send Message"),9,yy),o.value?(P(),$("div",{key:0,class:Qe([a.value?"text-sage-dark":"text-clay-dark","text-center font-medium bg-white rounded-xl p-4"])},q(o.value),3)):Pe("",!0)],32)]),d("div",null,[h[19]||(h[19]=d("h2",{class:"font-display text-3xl mb-8"},"Contact Information",-1)),d("div",by,[d("div",wy,[h[13]||(h[13]=d("div",{class:"w-14 h-14 bg-gradient-to-br from-clay to-clay-dark rounded-2xl flex items-center justify-center flex-shrink-0"},[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[d("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),d("circle",{cx:"12",cy:"10",r:"3"})])],-1)),d("div",null,[h[12]||(h[12]=d("h3",{class:"font-medium text-text-dark text-lg mb-1"},"Address",-1)),d("p",_y,q(i.value.address),1)])]),d("div",xy,[h[15]||(h[15]=d("div",{class:"w-14 h-14 bg-gradient-to-br from-clay to-clay-dark rounded-2xl flex items-center justify-center flex-shrink-0"},[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[d("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),d("polyline",{points:"22,6 12,13 2,6"})])],-1)),d("div",null,[h[14]||(h[14]=d("h3",{class:"font-medium text-text-dark text-lg mb-1"},"Email",-1)),d("a",{href:"mailto:"+i.value.email,class:"text-text-medium hover:text-clay transition-colors"},q(i.value.email),9,ky)])]),d("div",Sy,[h[17]||(h[17]=d("div",{class:"w-14 h-14 bg-gradient-to-br from-clay to-clay-dark rounded-2xl flex items-center justify-center flex-shrink-0"},[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[d("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"})])],-1)),d("div",null,[h[16]||(h[16]=d("h3",{class:"font-medium text-text-dark text-lg mb-1"},"Phone",-1)),d("a",{href:"tel:"+i.value.phone.replace(/\s/g,""),class:"text-text-medium hover:text-clay transition-colors"},q(i.value.phone),9,Ey)])]),h[18]||(h[18]=it('<div class="flex items-start gap-5"><div class="w-14 h-14 bg-gradient-to-br from-clay to-clay-dark rounded-2xl flex items-center justify-center flex-shrink-0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div><div><h3 class="font-medium text-text-dark text-lg mb-1">Business Hours</h3><p class="text-text-medium">Monday - Saturday: 9:00 AM - 6:00 PM</p><p class="text-text-light">Sunday: Closed</p></div></div>',1))]),h[20]||(h[20]=it('<div class="bg-sage rounded-3xl p-8"><h3 class="font-display text-xl text-white mb-5">Why Choose Us?</h3><ul class="space-y-4"><li class="flex items-center gap-3 text-white/90"><div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"></polyline></svg></div> 25+ Years of Experience </li><li class="flex items-center gap-3 text-white/90"><div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"></polyline></svg></div> Trusted by Government &amp; Private Clients </li><li class="flex items-center gap-3 text-white/90"><div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"></polyline></svg></div> World-Class Quality Standards </li></ul></div><div class="mt-10"><p class="text-sm text-text-light mb-4">Follow us</p><div class="flex gap-4"><a href="#" class="w-12 h-12 bg-sand rounded-full flex items-center justify-center text-text-medium hover:bg-clay hover:text-white transition-all"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5"></rect><circle cx="12" cy="12" r="4"></circle><circle cx="18" cy="6" r="1.5" fill="currentColor"></circle></svg></a><a href="#" class="w-12 h-12 bg-sand rounded-full flex items-center justify-center text-text-medium hover:bg-clay hover:text-white transition-all"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="#" class="w-12 h-12 bg-sand rounded-full flex items-center justify-center text-text-medium hover:bg-clay hover:text-white transition-all"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></div></div>',2))])])])]),h[22]||(h[22]=it('<section class="h-96 bg-sand relative"><div class="absolute inset-0 flex items-center justify-center"><div class="text-center"><div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#c4936a" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div><p class="text-text-medium">Map Integration Coming Soon</p></div></div></section>',1))]))}},_s=re(null),Jn=re(!0);function wc(){const t=async(n,i)=>{const{data:o,error:a}=await Ie.auth.signInWithPassword({email:n,password:i});if(a)throw a;return _s.value=o.user,o},e=async()=>{const{error:n}=await Ie.auth.signOut();if(n)throw n;_s.value=null,localStorage.removeItem("adminAuth")},s=async()=>{const{data:{user:n}}=await Ie.auth.getUser();return _s.value=n,Jn.value=!1,n},r=()=>!!_s.value;return Ie.auth.onAuthStateChange((n,i)=>{_s.value=(i==null?void 0:i.user)||null,Jn.value=!1}),{user:_s,loading:Jn,login:t,logout:e,getUser:s,isAuthenticated:r}}const Ay={class:"admin min-h-screen bg-sand-light"},Cy={class:"bg-white shadow-sm sticky top-0 z-50"},Ry={class:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center"},Oy={class:"flex items-center gap-4"},Py={class:"text-sm text-text-medium"},$y={class:"bg-white border-b"},jy={class:"max-w-7xl mx-auto px-6"},Iy={class:"flex gap-8 overflow-x-auto"},Uy=["onClick"],Ny={class:"max-w-7xl mx-auto px-6 py-8"},Ly={key:0,class:"text-center py-12"},Dy={key:1,class:"space-y-6"},My={class:"bg-white rounded-2xl p-6 shadow-sm"},By={class:"grid gap-4"},Vy={class:"bg-white rounded-2xl p-6 shadow-sm"},Fy={class:"grid md:grid-cols-2 lg:grid-cols-4 gap-4"},qy=["onUpdate:modelValue"],Hy=["onUpdate:modelValue"],Wy={class:"bg-white rounded-2xl p-6 shadow-sm"},Ky={class:"space-y-4"},Gy={class:"flex justify-between items-center mb-3"},zy={class:"text-sm font-medium text-text-dark"},Jy=["onUpdate:modelValue"],Yy=["onUpdate:modelValue"],Xy=["onUpdate:modelValue"],Qy={class:"flex justify-end"},Zy=["disabled"],eb={key:2,class:"space-y-6"},tb={class:"bg-white rounded-2xl p-6 shadow-sm"},sb={class:"bg-white rounded-2xl p-6 shadow-sm"},rb={class:"space-y-4"},nb={class:"block text-sm font-medium text-text-dark mb-2"},ib=["onUpdate:modelValue"],ob={class:"bg-white rounded-2xl p-6 shadow-sm"},ab={class:"grid md:grid-cols-2 gap-4"},lb=["onUpdate:modelValue"],cb=["onUpdate:modelValue"],ub={class:"bg-white rounded-2xl p-6 shadow-sm"},db={class:"grid md:grid-cols-3 gap-4"},hb=["onUpdate:modelValue"],fb=["onUpdate:modelValue"],pb={class:"bg-white rounded-2xl p-6 shadow-sm"},gb={class:"grid md:grid-cols-4 gap-4"},mb=["onUpdate:modelValue"],vb=["onUpdate:modelValue"],yb={class:"flex justify-end"},bb=["disabled"],wb={key:3,class:"space-y-6"},_b={class:"bg-white rounded-2xl p-6 shadow-sm"},xb={class:"grid md:grid-cols-2 gap-4"},kb={class:"md:col-span-2"},Sb={class:"flex justify-end"},Eb=["disabled"],Tb={key:4,class:"space-y-6"},Ab={class:"flex justify-between items-center"},Cb={class:"grid gap-4"},Rb={class:"w-24 h-24 bg-sand rounded-xl overflow-hidden flex-shrink-0"},Ob=["src","alt"],Pb={key:1,class:"w-full h-full flex items-center justify-center text-text-light"},$b={class:"flex-1 min-w-0"},jb={class:"flex items-center gap-2"},Ib={class:"font-medium text-text-dark truncate"},Ub={key:0,class:"px-2 py-0.5 bg-clay text-white text-xs rounded-full"},Nb={class:"text-sm text-text-medium"},Lb={class:"inline-block mt-2 px-3 py-1 bg-clay/10 text-clay text-xs rounded-full"},Db={class:"flex gap-2"},Mb=["onClick"],Bb=["onClick"],Vb={key:0,class:"text-center py-12 bg-white rounded-2xl"},Fb={key:5,class:"space-y-6"},qb={class:"space-y-4"},Hb={class:"flex justify-between items-start mb-4"},Wb={class:"font-medium text-text-dark"},Kb={class:"text-sm text-text-medium"},Gb={class:"flex items-center gap-2"},zb={class:"text-xs text-text-light"},Jb={key:0,class:"w-2 h-2 bg-clay rounded-full"},Yb={class:"text-sm font-medium text-text-dark mb-2"},Xb={class:"text-sm text-text-medium whitespace-pre-line"},Qb={class:"mt-4 flex gap-2"},Zb=["onClick"],ew=["onClick"],tw={key:0,class:"text-center py-12 bg-white rounded-2xl"},sw={class:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},rw={class:"p-6 border-b border-sand"},nw={class:"font-display text-xl"},iw={class:"grid md:grid-cols-2 gap-4"},ow={class:"grid md:grid-cols-2 gap-4"},aw={class:"flex items-center gap-3"},lw={class:"flex flex-wrap gap-3 mb-3"},cw=["src"],uw=["onClick"],dw={class:"w-24 h-24 border-2 border-dashed border-sand rounded-xl flex items-center justify-center cursor-pointer hover:border-clay transition-colors"},hw={class:"flex justify-end gap-4 pt-4"},fw=["disabled"],pw={__name:"Admin",setup(t){const e=sc(),{user:s,logout:r,getUser:n}=wc(),{projects:i,fetchProjects:o,createProject:a,updateProject:l,deleteProject:u,uploadImage:c}=Ki(),{siteContent:h,fetchContent:f,updateContent:p}=En(),{submissions:v,fetchSubmissions:y,markAsRead:x,deleteSubmission:k}=bc(),S=[{id:"hero",name:"Home Page"},{id:"about",name:"About Page"},{id:"contact",name:"Contact Info"},{id:"projects",name:"Projects"},{id:"messages",name:"Messages"}],_=re("hero"),C=re(!0),H=re(!1),F=re(!1),I=re({hero_title:"Where Nature Meets",hero_subtitle:"Structure",hero_description:"Creating harmonious spaces that flow with life. For 25 years, we've designed architecture that breathes with its environment.",stats:[{number:"25+",label:"Years of Excellence"},{number:"500+",label:"Projects Completed"},{number:"50+",label:"Awards Won"},{number:"100%",label:"Client Satisfaction"}],services:[{id:1,icon:"home",title:"Residential Design",description:"Crafting homes that embrace natural light and organic flow, creating spaces where families thrive."},{id:2,icon:"building",title:"Commercial Spaces",description:"Designing workspaces that inspire productivity while maintaining harmony with the environment."},{id:3,icon:"landmark",title:"Government Projects",description:"Creating public buildings that serve communities with dignity and architectural excellence."}],about_intro:"M/s CHAMANKAR GROUP is a reputed & trusted name in the construction industry since more than 25 years.",about_vision_title:"Our Vision",about_vision_paragraphs:["Aspiring for world class living standards and contemporary work places come within reach of all.","Our aim is setting up of comfortable and luxurious dwelling spheres.","We create infrastructure which is a perfect blend of beauty and strength."],values:[{id:1,title:"Excellence",description:"Committed to delivering exceptional quality in every project we undertake."},{id:2,title:"Innovation",description:"Pioneering new trends and expanding horizons in construction."},{id:3,title:"Trust",description:"Building lasting relationships based on reliability and integrity."},{id:4,title:"Sustainability",description:"Creating spaces that respect and harmonize with nature."}],expertise:[{id:1,title:"Residential",description:"Creating luxurious living spaces that become perfect homes for families."},{id:2,title:"Commercial",description:"Developing modern workspaces that inspire productivity and success."},{id:3,title:"Government",description:"Delivering prestigious government projects with architectural excellence."}],timeline:[{number:"1999",label:"Founded"},{number:"150+",label:"Projects"},{number:"40+",label:"Awards"},{number:"200+",label:"Team Members"}],contact_email:"info@chamankar.com",contact_phone:"+91 22 1234 5678",contact_address:"Mumbai, Maharashtra, India"}),se=re(!1),B=re(null),K=re({name:"",location:"",type:"Residential",description:"",status:"",completion_date:"",featured:!1,images:[]});Qt(async()=>{if(!await n()){e.replace("/admin/login");return}await Promise.all([f(),o(),y()]),h.value&&(I.value={...I.value,...h.value,stats:h.value.stats||I.value.stats,services:h.value.services||I.value.services,about_vision_paragraphs:h.value.about_vision_paragraphs||I.value.about_vision_paragraphs,values:h.value.values||I.value.values,expertise:h.value.expertise||I.value.expertise,timeline:h.value.timeline||I.value.timeline}),C.value=!1});const he=async()=>{await r(),e.replace("/admin/login")},V=async()=>{H.value=!0;try{await p(I.value),alert("Content saved successfully!")}catch(ie){alert("Error saving content: "+ie.message)}finally{H.value=!1}},ue=(ie=null)=>{B.value=ie,ie?K.value={...ie,images:ie.images||[]}:K.value={name:"",location:"",type:"Residential",description:"",status:"",completion_date:"",featured:!1,images:[]},se.value=!0},$e=async ie=>{const w=ie.target.files;if(w.length){for(const ut of w)try{const O=await c(ut);K.value.images.push(O)}catch(O){alert("Error uploading image: "+O.message)}ie.target.value=""}},He=ie=>{K.value.images.splice(ie,1)},Ae=async()=>{F.value=!0;try{B.value?await l(B.value.id,K.value):await a(K.value),se.value=!1}catch(ie){alert("Error saving project: "+ie.message)}finally{F.value=!1}},pe=async ie=>{if(confirm(`Delete "${ie.name}"?`))try{await u(ie.id)}catch(w){alert("Error deleting project: "+w.message)}},de=async ie=>{await x(ie)},ct=async ie=>{confirm("Delete this message?")&&await k(ie)},yt=ie=>new Date(ie).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return(ie,w)=>{var ut;return P(),$("div",Ay,[d("header",Cy,[d("div",Ry,[w[18]||(w[18]=d("h1",{class:"font-display text-2xl text-text-dark"},"Admin Panel",-1)),d("div",Oy,[d("span",Py,q((ut=pt(s))==null?void 0:ut.email),1),d("button",{onClick:he,class:"px-4 py-2 bg-earth text-white rounded-full text-sm hover:bg-clay transition-colors"}," Logout ")])])]),d("div",$y,[d("div",jy,[d("nav",Iy,[(P(),$(ce,null,Te(S,O=>d("button",{key:O.id,onClick:be=>_.value=O.id,class:Qe(["py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap",_.value===O.id?"border-clay text-clay":"border-transparent text-text-medium hover:text-text-dark"])},q(O.name),11,Uy)),64))])])]),d("main",Ny,[C.value?(P(),$("div",Ly,[...w[19]||(w[19]=[d("div",{class:"inline-block w-8 h-8 border-4 border-clay border-t-transparent rounded-full animate-spin"},null,-1),d("p",{class:"mt-4 text-text-medium"},"Loading...",-1)])])):_.value==="hero"?(P(),$("div",Dy,[d("div",My,[w[23]||(w[23]=d("h2",{class:"font-display text-xl mb-6"},"Hero Section",-1)),d("div",By,[d("div",null,[w[20]||(w[20]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Title (First Line)",-1)),le(d("input",{"onUpdate:modelValue":w[0]||(w[0]=O=>I.value.hero_title=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Where Nature Meets"},null,512),[[ge,I.value.hero_title]])]),d("div",null,[w[21]||(w[21]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Title (Highlighted)",-1)),le(d("input",{"onUpdate:modelValue":w[1]||(w[1]=O=>I.value.hero_subtitle=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Structure"},null,512),[[ge,I.value.hero_subtitle]])]),d("div",null,[w[22]||(w[22]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Description",-1)),le(d("textarea",{"onUpdate:modelValue":w[2]||(w[2]=O=>I.value.hero_description=O),rows:"3",class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Hero description"},null,512),[[ge,I.value.hero_description]])])])]),d("div",Vy,[w[26]||(w[26]=d("h2",{class:"font-display text-xl mb-6"},"Statistics",-1)),d("div",Fy,[(P(!0),$(ce,null,Te(I.value.stats,(O,be)=>(P(),$("div",{key:be,class:"border border-sand rounded-xl p-4"},[w[24]||(w[24]=d("label",{class:"block text-xs font-medium text-text-light mb-1"},"Number",-1)),le(d("input",{"onUpdate:modelValue":ne=>O.number=ne,class:"w-full px-3 py-2 border border-sand rounded-lg text-lg font-display mb-2",placeholder:"25+"},null,8,qy),[[ge,O.number]]),w[25]||(w[25]=d("label",{class:"block text-xs font-medium text-text-light mb-1"},"Label",-1)),le(d("input",{"onUpdate:modelValue":ne=>O.label=ne,class:"w-full px-3 py-2 border border-sand rounded-lg text-sm",placeholder:"Years of Excellence"},null,8,Hy),[[ge,O.label]])]))),128))])]),d("div",Wy,[w[28]||(w[28]=d("h2",{class:"font-display text-xl mb-6"},"Services / Expertise (Home Page)",-1)),d("div",Ky,[(P(!0),$(ce,null,Te(I.value.services,(O,be)=>(P(),$("div",{key:be,class:"border border-sand rounded-xl p-4"},[d("div",Gy,[d("span",zy,"Service "+q(be+1),1),le(d("select",{"onUpdate:modelValue":ne=>O.icon=ne,class:"px-3 py-1 border border-sand rounded-lg text-sm"},[...w[27]||(w[27]=[d("option",{value:"home"},"Home Icon",-1),d("option",{value:"building"},"Building Icon",-1),d("option",{value:"landmark"},"Landmark Icon",-1)])],8,Jy),[[Ln,O.icon]])]),le(d("input",{"onUpdate:modelValue":ne=>O.title=ne,class:"w-full px-3 py-2 border border-sand rounded-lg mb-2",placeholder:"Service Title"},null,8,Yy),[[ge,O.title]]),le(d("textarea",{"onUpdate:modelValue":ne=>O.description=ne,rows:"2",class:"w-full px-3 py-2 border border-sand rounded-lg text-sm",placeholder:"Service description"},null,8,Xy),[[ge,O.description]])]))),128))])]),d("div",Qy,[d("button",{onClick:V,disabled:H.value,class:"px-8 py-3 bg-earth text-white rounded-full font-medium hover:bg-clay transition-colors disabled:opacity-50"},q(H.value?"Saving...":"Save Changes"),9,Zy)])])):_.value==="about"?(P(),$("div",eb,[d("div",tb,[w[30]||(w[30]=d("h2",{class:"font-display text-xl mb-6"},"Introduction",-1)),d("div",null,[w[29]||(w[29]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"About Introduction Text",-1)),le(d("textarea",{"onUpdate:modelValue":w[3]||(w[3]=O=>I.value.about_intro=O),rows:"4",class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Company introduction"},null,512),[[ge,I.value.about_intro]])])]),d("div",sb,[w[32]||(w[32]=d("h2",{class:"font-display text-xl mb-6"},"Our Vision",-1)),d("div",rb,[d("div",null,[w[31]||(w[31]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Vision Title",-1)),le(d("input",{"onUpdate:modelValue":w[4]||(w[4]=O=>I.value.about_vision_title=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Our Vision"},null,512),[[ge,I.value.about_vision_title]])]),(P(!0),$(ce,null,Te(I.value.about_vision_paragraphs,(O,be)=>(P(),$("div",{key:be},[d("label",nb,"Paragraph "+q(be+1),1),le(d("textarea",{"onUpdate:modelValue":ne=>I.value.about_vision_paragraphs[be]=ne,rows:"3",class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Vision paragraph"},null,8,ib),[[ge,I.value.about_vision_paragraphs[be]]])]))),128))])]),d("div",ob,[w[33]||(w[33]=d("h2",{class:"font-display text-xl mb-6"},"Core Values",-1)),d("div",ab,[(P(!0),$(ce,null,Te(I.value.values,(O,be)=>(P(),$("div",{key:be,class:"border border-sand rounded-xl p-4"},[le(d("input",{"onUpdate:modelValue":ne=>O.title=ne,class:"w-full px-3 py-2 border border-sand rounded-lg mb-2 font-medium",placeholder:"Value Title"},null,8,lb),[[ge,O.title]]),le(d("textarea",{"onUpdate:modelValue":ne=>O.description=ne,rows:"2",class:"w-full px-3 py-2 border border-sand rounded-lg text-sm",placeholder:"Value description"},null,8,cb),[[ge,O.description]])]))),128))])]),d("div",ub,[w[34]||(w[34]=d("h2",{class:"font-display text-xl mb-6"},"Our Expertise",-1)),d("div",db,[(P(!0),$(ce,null,Te(I.value.expertise,(O,be)=>(P(),$("div",{key:be,class:"border border-sand rounded-xl p-4"},[le(d("input",{"onUpdate:modelValue":ne=>O.title=ne,class:"w-full px-3 py-2 border border-sand rounded-lg mb-2 font-medium",placeholder:"Expertise Title"},null,8,hb),[[ge,O.title]]),le(d("textarea",{"onUpdate:modelValue":ne=>O.description=ne,rows:"2",class:"w-full px-3 py-2 border border-sand rounded-lg text-sm",placeholder:"Expertise description"},null,8,fb),[[ge,O.description]])]))),128))])]),d("div",pb,[w[37]||(w[37]=d("h2",{class:"font-display text-xl mb-6"},"Timeline Statistics",-1)),d("div",gb,[(P(!0),$(ce,null,Te(I.value.timeline,(O,be)=>(P(),$("div",{key:be,class:"border border-sand rounded-xl p-4"},[w[35]||(w[35]=d("label",{class:"block text-xs font-medium text-text-light mb-1"},"Number",-1)),le(d("input",{"onUpdate:modelValue":ne=>O.number=ne,class:"w-full px-3 py-2 border border-sand rounded-lg text-lg font-display mb-2",placeholder:"1999"},null,8,mb),[[ge,O.number]]),w[36]||(w[36]=d("label",{class:"block text-xs font-medium text-text-light mb-1"},"Label",-1)),le(d("input",{"onUpdate:modelValue":ne=>O.label=ne,class:"w-full px-3 py-2 border border-sand rounded-lg text-sm",placeholder:"Founded"},null,8,vb),[[ge,O.label]])]))),128))])]),d("div",yb,[d("button",{onClick:V,disabled:H.value,class:"px-8 py-3 bg-earth text-white rounded-full font-medium hover:bg-clay transition-colors disabled:opacity-50"},q(H.value?"Saving...":"Save Changes"),9,bb)])])):_.value==="contact"?(P(),$("div",wb,[d("div",_b,[w[41]||(w[41]=d("h2",{class:"font-display text-xl mb-6"},"Contact Information",-1)),d("div",xb,[d("div",null,[w[38]||(w[38]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Email Address",-1)),le(d("input",{"onUpdate:modelValue":w[5]||(w[5]=O=>I.value.contact_email=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"info@example.com"},null,512),[[ge,I.value.contact_email]])]),d("div",null,[w[39]||(w[39]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Phone Number",-1)),le(d("input",{"onUpdate:modelValue":w[6]||(w[6]=O=>I.value.contact_phone=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"+91 22 1234 5678"},null,512),[[ge,I.value.contact_phone]])]),d("div",kb,[w[40]||(w[40]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Address",-1)),le(d("input",{"onUpdate:modelValue":w[7]||(w[7]=O=>I.value.contact_address=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"Mumbai, Maharashtra, India"},null,512),[[ge,I.value.contact_address]])])])]),d("div",Sb,[d("button",{onClick:V,disabled:H.value,class:"px-8 py-3 bg-earth text-white rounded-full font-medium hover:bg-clay transition-colors disabled:opacity-50"},q(H.value?"Saving...":"Save Changes"),9,Eb)])])):_.value==="projects"?(P(),$("div",Tb,[d("div",Ab,[w[42]||(w[42]=d("h2",{class:"font-display text-xl"},"Manage Projects",-1)),d("button",{onClick:w[8]||(w[8]=O=>ue()),class:"px-6 py-2 bg-earth text-white rounded-full text-sm font-medium hover:bg-clay transition-colors"}," + Add Project ")]),d("div",Cb,[(P(!0),$(ce,null,Te(pt(i),O=>(P(),$("div",{key:O.id,class:"bg-white rounded-2xl p-6 shadow-sm flex items-center gap-6"},[d("div",Rb,[O.images&&O.images[0]?(P(),$("img",{key:0,src:O.images[0],class:"w-full h-full object-cover",alt:O.name},null,8,Ob)):(P(),$("div",Pb,[...w[43]||(w[43]=[d("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[d("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),d("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),d("path",{d:"M21 15l-5-5L5 21"})],-1)])]))]),d("div",$b,[d("div",jb,[d("h3",Ib,q(O.name),1),O.featured?(P(),$("span",Ub,"Featured")):Pe("",!0)]),d("p",Nb,q(O.location),1),d("span",Lb,q(O.type),1)]),d("div",Db,[d("button",{onClick:be=>ue(O),class:"p-2 text-text-medium hover:text-clay transition-colors"},[...w[44]||(w[44]=[d("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Mb),d("button",{onClick:be=>pe(O),class:"p-2 text-text-medium hover:text-red-500 transition-colors"},[...w[45]||(w[45]=[d("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("polyline",{points:"3 6 5 6 21 6"}),d("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,Bb)])]))),128)),pt(i).length===0?(P(),$("div",Vb,[...w[46]||(w[46]=[d("p",{class:"text-text-medium"},"No projects yet. Add your first project!",-1)])])):Pe("",!0)])])):_.value==="messages"?(P(),$("div",Fb,[w[48]||(w[48]=d("h2",{class:"font-display text-xl"},"Contact Messages",-1)),d("div",qb,[(P(!0),$(ce,null,Te(pt(v),O=>(P(),$("div",{key:O.id,class:Qe(["bg-white rounded-2xl p-6 shadow-sm",{"opacity-60":O.read}])},[d("div",Hb,[d("div",null,[d("h3",Wb,q(O.name),1),d("p",Kb,q(O.email)+" | "+q(O.phone||"No phone"),1)]),d("div",Gb,[d("span",zb,q(yt(O.created_at)),1),O.read?Pe("",!0):(P(),$("span",Jb))])]),d("p",Yb,q(O.subject),1),d("p",Xb,q(O.message),1),d("div",Qb,[O.read?Pe("",!0):(P(),$("button",{key:0,onClick:be=>de(O.id),class:"text-sm text-clay hover:underline"}," Mark as read ",8,Zb)),d("button",{onClick:be=>ct(O.id),class:"text-sm text-red-500 hover:underline"}," Delete ",8,ew)])],2))),128)),pt(v).length===0?(P(),$("div",tw,[...w[47]||(w[47]=[d("p",{class:"text-text-medium"},"No messages yet.",-1)])])):Pe("",!0)])])):Pe("",!0)]),(P(),mn(nl,{to:"body"},[se.value?(P(),$("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:w[17]||(w[17]=fr(O=>se.value=!1,["self"]))},[d("div",sw,[d("div",rw,[d("h3",nw,q(B.value?"Edit Project":"Add Project"),1)]),d("form",{onSubmit:fr(Ae,["prevent"]),class:"p-6 space-y-4"},[d("div",null,[w[49]||(w[49]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Project Name *",-1)),le(d("input",{"onUpdate:modelValue":w[9]||(w[9]=O=>K.value.name=O),required:"",class:"w-full px-4 py-3 border border-sand rounded-xl"},null,512),[[ge,K.value.name]])]),d("div",iw,[d("div",null,[w[50]||(w[50]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Location *",-1)),le(d("input",{"onUpdate:modelValue":w[10]||(w[10]=O=>K.value.location=O),required:"",class:"w-full px-4 py-3 border border-sand rounded-xl"},null,512),[[ge,K.value.location]])]),d("div",null,[w[52]||(w[52]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Type *",-1)),le(d("select",{"onUpdate:modelValue":w[11]||(w[11]=O=>K.value.type=O),required:"",class:"w-full px-4 py-3 border border-sand rounded-xl"},[...w[51]||(w[51]=[d("option",{value:"Residential"},"Residential",-1),d("option",{value:"Commercial"},"Commercial",-1),d("option",{value:"Government"},"Government",-1)])],512),[[Ln,K.value.type]])])]),d("div",null,[w[53]||(w[53]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Description",-1)),le(d("textarea",{"onUpdate:modelValue":w[12]||(w[12]=O=>K.value.description=O),rows:"4",class:"w-full px-4 py-3 border border-sand rounded-xl"},null,512),[[ge,K.value.description]])]),d("div",ow,[d("div",null,[w[55]||(w[55]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Status",-1)),le(d("select",{"onUpdate:modelValue":w[13]||(w[13]=O=>K.value.status=O),class:"w-full px-4 py-3 border border-sand rounded-xl"},[...w[54]||(w[54]=[d("option",{value:""},"Select status",-1),d("option",{value:"Completed"},"Completed",-1),d("option",{value:"Ongoing"},"Ongoing",-1),d("option",{value:"Upcoming"},"Upcoming",-1)])],512),[[Ln,K.value.status]])]),d("div",null,[w[56]||(w[56]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Completion Date",-1)),le(d("input",{"onUpdate:modelValue":w[14]||(w[14]=O=>K.value.completion_date=O),class:"w-full px-4 py-3 border border-sand rounded-xl",placeholder:"e.g., December 2024"},null,512),[[ge,K.value.completion_date]])])]),d("div",aw,[le(d("input",{type:"checkbox",id:"featured","onUpdate:modelValue":w[15]||(w[15]=O=>K.value.featured=O),class:"w-5 h-5 rounded border-sand text-clay focus:ring-clay"},null,512),[[Vd,K.value.featured]]),w[57]||(w[57]=d("label",{for:"featured",class:"text-sm font-medium text-text-dark"},"Featured Project (shows on home page)",-1))]),d("div",null,[w[60]||(w[60]=d("label",{class:"block text-sm font-medium text-text-dark mb-2"},"Project Images",-1)),d("div",lw,[(P(!0),$(ce,null,Te(K.value.images,(O,be)=>(P(),$("div",{key:be,class:"relative w-24 h-24 rounded-xl overflow-hidden group"},[d("img",{src:O,class:"w-full h-full object-cover"},null,8,cw),d("button",{type:"button",onClick:ne=>He(be),class:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white transition-opacity"},[...w[58]||(w[58]=[d("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[d("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,uw)]))),128)),d("label",dw,[w[59]||(w[59]=d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"text-text-light"},[d("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)),d("input",{type:"file",accept:"image/*",class:"hidden",onChange:$e,multiple:""},null,32)])]),w[61]||(w[61]=d("p",{class:"text-xs text-text-light"},"First image will be used as the main project image",-1))]),d("div",hw,[d("button",{type:"button",onClick:w[16]||(w[16]=O=>se.value=!1),class:"px-6 py-2 border border-sand rounded-full text-text-medium hover:bg-sand transition-colors"}," Cancel "),d("button",{type:"submit",disabled:F.value,class:"px-6 py-2 bg-earth text-white rounded-full hover:bg-clay transition-colors disabled:opacity-50"},q(F.value?"Saving...":"Save Project"),9,fw)])],32)])])):Pe("",!0)]))])}}},gw=yn(pw,[["__scopeId","data-v-220b8e02"]]),mw={class:"admin-login min-h-screen bg-sand-light flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},vw={class:"max-w-md w-full"},yw={class:"bg-white rounded-3xl shadow-lg p-8"},bw={key:0,class:"text-red-600 text-sm text-center font-medium bg-red-50 p-3 rounded-xl"},ww={key:1,class:"text-green-600 text-sm text-center font-medium bg-green-50 p-3 rounded-xl"},_w=["disabled"],xw={class:"mt-6 text-center"},kw={__name:"AdminLogin",setup(t){const e=sc(),{login:s}=wc(),r=re({email:"",password:""}),n=re(""),i=re(""),o=re(!1),a=async()=>{o.value=!0,n.value="",i.value="";try{await s(r.value.email,r.value.password),localStorage.setItem("adminAuth","true"),i.value="Login successful! Redirecting...",setTimeout(()=>{e.replace("/admin")},500)}catch(l){console.error("Login error:",l),n.value=l.message||"Invalid email or password. Please try again."}finally{o.value=!1}};return(l,u)=>{const c=fs("router-link");return P(),$("div",mw,[d("div",vw,[d("div",yw,[u[5]||(u[5]=d("div",{class:"text-center mb-8"},[d("h2",{class:"font-display text-3xl text-text-dark"},"Admin Login"),d("p",{class:"mt-2 text-text-medium"},"Sign in to manage your website")],-1)),d("form",{onSubmit:fr(a,["prevent"]),class:"space-y-6"},[d("div",null,[u[2]||(u[2]=d("label",{for:"email",class:"block text-sm font-medium text-text-dark mb-2"},"Email",-1)),le(d("input",{type:"email",id:"email","onUpdate:modelValue":u[0]||(u[0]=h=>r.value.email=h),required:"",class:"w-full px-4 py-3 border border-sand rounded-xl focus:ring-2 focus:ring-clay focus:border-transparent",placeholder:"admin@example.com"},null,512),[[ge,r.value.email]])]),d("div",null,[u[3]||(u[3]=d("label",{for:"password",class:"block text-sm font-medium text-text-dark mb-2"},"Password",-1)),le(d("input",{type:"password",id:"password","onUpdate:modelValue":u[1]||(u[1]=h=>r.value.password=h),required:"",class:"w-full px-4 py-3 border border-sand rounded-xl focus:ring-2 focus:ring-clay focus:border-transparent",placeholder:"Enter password"},null,512),[[ge,r.value.password]])]),n.value?(P(),$("div",bw,q(n.value),1)):Pe("",!0),i.value?(P(),$("div",ww,q(i.value),1)):Pe("",!0),d("button",{type:"submit",disabled:o.value,class:"w-full bg-earth text-white px-8 py-3 rounded-full font-medium hover:bg-clay transition-colors disabled:bg-text-light disabled:cursor-not-allowed"},q(o.value?"Signing In...":"Sign In"),9,_w)],32),d("div",xw,[oe(c,{to:"/",class:"text-sm text-clay hover:text-clay-dark"},{default:Ne(()=>[...u[4]||(u[4]=[Oe("  Back to Home ",-1)])]),_:1})])])])])}}},Sw=[{path:"/",name:"Home",component:Am},{path:"/about",name:"About",component:cv},{path:"/projects",name:"Projects",component:hy},{path:"/contact",name:"Contact",component:Ty},{path:"/admin/login",name:"AdminLogin",component:kw},{path:"/admin",name:"Admin",component:gw,meta:{requiresAuth:!0}}],_c=pf({history:Fh(),routes:Sw,scrollBehavior(t,e,s){return s||{top:0}}});_c.beforeEach((t,e,s)=>{console.log("Navigation guard:",t.path,"requiresAuth:",t.meta.requiresAuth);const r=localStorage.getItem("adminAuth")==="true";if(console.log("Is authenticated:",r),t.meta.requiresAuth)if(r){console.log("Access granted"),s();return}else{console.log("Access denied - redirecting to login"),s({path:"/admin/login",replace:!0});return}if(t.path==="/admin/login"&&r){console.log("Already logged in - redirecting to admin"),s({path:"/admin",replace:!0});return}s()});const xc=Kd(uh);xc.use(_c);xc.mount("#app");
